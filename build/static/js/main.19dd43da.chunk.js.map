{"version":3,"sources":["assets/images/icons/favicon.png","pages/Login/index.js","components/MapContainer/index.js","constants/constants.js","components/MediaContainer/index.js","components/CameraStream/index.js","pages/Map/index.js","components/Match/index.js","components/LoopCamerasDisplay/index.js","components/GridCameraDisplay/index.js","pages/Analysis/index.js","components/Header/index.js","components/SideBar/index.js","components/CameraInfoSide/index.js","components/CameraControls/index.js","pages/Details/index.js","pages/CamaraForMobile/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Login","state","username","pass","_handleChange","e","_this","setState","Object","defineProperty","target","name","value","_makeLogin","_this$state","props","makeAuth","react_default","a","createElement","className","id","data-toggle","src","favicon","style","width","alt","data-validate","type","placeholder","onChange","this","required","data-placeholder","htmlFor","onClick","href","Component","MapContainer","_Component","_getPrototypeOf2","classCallCheck","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","onScriptLoad","map","window","google","maps","Map","refs","mapDiv","options","onMapLoad","inherits","createClass","key","_this2","s","document","x","getElementsByTagName","parentNode","insertBefore","addEventListener","height","ref","constants","base_url","webSocket","apiPort","webSocketPort","MediaContainer","modal","_saveFile","saveAs","video","image","_deleteFile","console","log","cam","Axios","delete","then","response","data","success","display","reloadData","alert","Card_Card","Modal","show","onHide","Header","closeButton","Button","basic","hideDelete","negative","Body","autoPlay","controls","crossOrigin","vis","stateKey","eventKey","keys","hidden","webkitHidden","mozHidden","msHidden","c","CameraStream","cameraID","cameraName","player","showData","photos","videos","video_history","interval","isLoading","isRecording","process_id","loadingSnap","loadingFiles","tryReconect","recordMessage","lastCurrentTime","lastCurrentFrame","isVisible","isPlay","worker","modalProblem","problemDescription","typeReport","phones","mails","lastDecode","chips","onChangeMail","handleChange","_ref","_sendReport","cameraProblem","post","camera_id","problem","user_id","join","type_report","error","_togglePlayPause","stop","close","tryRconection","recordignToggle","put","record_proccess_id","r","msg","_loadFiles","id_record_proccess","_isVisisbleChange","_endedPlay","_checkIsUp","currentTime","currentFrame","num_cam","_snapShot","marker","extraData","get","videos_history","_wsError","err","ws","WebSocket","onerror","onclose","jsmpeg","canvas","camRef","autoplay","audio","loop","onload","onfinished","disableGl","forceCanvas2D","_restartCam","destroy","setTimeout","_wsMessage","_playerError","urlToPromise","url","Promise","resolve","reject","JSZipUtils","getBinaryContent","_downloadFiles","zip","JSZip","imgs","folder","forEach","filename","file","relative_url","binary","vds","generateAsync","content","Card","horizontal","Title","Text","Row","Col","lg","showButtons","Footer","variant","hideTitle","align","index","components_MediaContainer","Tab","menu","secondary","pointing","panes","menuItem","render","Pane","attached","hideText","disabled","loading","color","hideFileButton","showExternal","open","location","replace","pathname","showFilesBelow","size","Form","Field","Radio","label","checked","Label","lib_default","fromSuggestionsOnly","createChipKeys","TextArea","rows","primary","title","setInterval","getBoundingClientRect","visualViewport","clearInterval","removeEventListener","mapOptions","center","lat","lng","zoom","mapTypeId","zoomControl","mapTypeControl","streetViewControl","fullscreenControl","places","_onMapLoad","Marker","position","event","addListener","createInfoWindow","infoWindow","InfoWindow","components_CameraStream","getElementById","_resizeMap","navHeight","scrollHeight","documentHeight","innerHeight","getElementsByClassName","maxHeight","top","background","react_spinners_kit_lib","components_MapContainer","fetch","json","camaras","auxCamaras","active","push","parseFloat","google_cordenate","split","street","number","township","town","Match","seeMore","imageCamera","imageDB","match","Math","random","toFixed","description","_changeSeeMore","_godetails","toggleControls","Content","Description","Image","info","images","original","withRouter","LoopCamerasDisplay","markers","slideIndex","isplaying","matches","isplay","_recordToggle","_playPause","_openCameraInfo","time","changeSlide","isp","si","undefined","toggleControlsBottom","JSON","stringify","circular","snapShot","recordingCams","indexOf","downloadFiles","makeReport","components_Match","_closeControl","_this3","markersForLoop","playing","viewBar","bottomBar","cameras","item","responseJson","items","suspect","querySelector","aux","countryOptions","text","GridCameraDisplay","fullHeight","selectedCamera","recordingProcess","loadingRcord","limit","start","pageCount","handlePageClick","selected","recording","sm","Select","ceil","dist_default","previousLabel","nextLabel","breakLabel","marginPagesDisplayed","pageRangeDisplayed","onPageChange","containerClassName","subContainerClassName","activeClassName","Analysis","actualCamera","displayTipe","camera","myChild","_recordignToggle","cam_id","stateRecordingProcess","stateRecordingCams","filter","el","creation_time","moment","_checkLiveTimeRecording","now","diff","_makeReport","_showDisplay","components_GridCameraDisplay","_toggleControlsBottom","components_LoopCamerasDisplay","_ref2","_changeDisplay","ToggleButtonGroup","defaultValue","ToggleButton","Icon","idCamera","params","parseInt","laces","catch","_goAnalitics","isSidemenuShow","toggleSideMenu","classList","remove","history","_cameraAction","includes","_logOut","logOut","_cameraSideInfo","cameraSideInfo","Navbar","sticky","expand","bg","Toggle","aria-controls","Collapse","Nav","es_Button","_reloadCams","loadingRestart","NavDropdown","userInfo","Item","SideBar","selectedOption","place","react_select_esm","isMulti","CameraInfoSide","activeIndex","matchs","handleClick","titleProps","newIndex","_toggle","camInfoSideMenu","elements_Header_Header","element","add","marginTop","CameraControls","isSlide","bottomMenu","overflow","pointerEvents","opacity","overflowY","carouselContainer","closeDefinitely","scrollTop","openConfirm","typeConfirm","openSelection","Details","floor","handleClose","saveChange","changeInfo","toString","wrapped","aliases","details","positive","MobileHelp","camara","App","isAuthenticated","sideMenu","cameraInfoSide","cameraInfo","cameraControl","showHeader","showNot","notification","notificationSystem","addNotification","message","level","action","callback","seeMatch","Event","dispatchEvent","_makeAuth","sessionStorage","setItem","logged","_toggleSideMenu","removeItem","_toggleControls","_checkAuth","isAuth","getItem","parse","react_router_dom","components_Header","components_SideBar","components_CameraInfoSide","react_router","path","exact","pages_Map","pages_Login","assign","pages_Analysis","pages_Details","CamaraForMobile","components_CameraControls","NotificationSystem_default","Boolean","hostname","ReactDOM","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.19dd43da.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/favicon.427acd81.png\";","import React, { Component } from 'react';\nimport favicon from '../../assets/images/icons/favicon.png'\nimport '../../assets/styles/util.css';\nimport '../../assets/styles/main.css';\nimport '../../assets/fonts/iconic/css/material-design-iconic-font.min.css'\nimport './style.css'\n\nclass Login extends Component {\n\n    state = {\n        username:'',\n        pass:''\n    }\n\n    _handleChange = (e) => {\n        this.setState({[e.target.name]:e.target.value})        \n    }\n\n    _makeLogin = () => {\n        const {username, pass} = this.state\n        if (username !== '' && pass !== '') {\n            if (username === 'admin' && pass === 'admin') {\n                this.props.makeAuth()\n            } else {\n                if (username === 'lpriego' && pass === 'lpriego') {\n\t\t\t\t\tthis.props.makeAuth('Luis Priego')\n\t\t\t\t}\n            }\t\n        }\n        else {\n            \n        }\n    }\n\n  render() {\n    return (\n        <div className=\"limiter\">\n\t\t    <div className=\"container-login100 cityBackground\">\n\t\t\t    <div className=\"wrap-login100\">\t\t\t\t\n\t\t\t\t    <form className=\"login100-form validate-form\" id=\"loginForm\" data-toggle=\"validator\">\n\t\t\t\t\t    <span className=\"login100-form-logo\">\n\t\t\t\t\t\t    <img src={favicon} style={{width: \"60%\"}} alt=\"mhlogo\"/>\t\t\t\t\t\t\n\t\t\t\t\t    </span>\n\t\t\t\t\t    <span className=\"login100-form-title p-b-34 p-t-27\">\n\t\t\t\t\t\t    Iniciar Sesin\n\t\t\t\t\t    </span>\n\t\t\t\t\t    <div className=\"wrap-input100 validate-input\" data-validate=\"Enter username\">\n\t\t\t\t\t\t    <input className=\"input100\" type=\"text\" name=\"username\" placeholder=\"Usuario\" onChange={this._handleChange} required=\"required\" id=\"username\"/>\n\t\t\t\t\t\t    <span className=\"focus-input100\" data-placeholder=\"&#xf207;\"></span>\n\t\t\t\t\t    </div>\n\t\t\t\t\t    <div className=\"wrap-input100 validate-input\" data-validate=\"Enter password\">\n\t\t\t\t\t\t    <input className=\"input100\" type=\"password\" name=\"pass\" placeholder=\"Contrasea\" onChange={this._handleChange} required=\"required\" id=\"password\"/>\n\t\t\t\t\t\t    <span className=\"focus-input100\" data-placeholder=\"&#xf191;\"></span>\n\t\t\t\t\t    </div>\n\t\t\t\t\t    <div className=\"contact100-form-checkbox\">\n\t\t\t\t\t\t    <input className=\"input-checkbox100\" id=\"ckb1\" type=\"checkbox\" name=\"remember-me\" />\n\t\t\t\t\t\t    <label className=\"label-checkbox100\" htmlFor=\"ckb1\">\n\t\t\t\t\t\t\t    Recordarme\n\t\t\t\t\t\t    </label>\n\t\t\t\t\t    </div>\n\t\t\t\t\t    <div className=\"container-login100-form-btn\">\n\t\t\t\t\t\t    <button className=\"login100-form-btn\" type=\"button\" onClick={this._makeLogin}>\n\t\t\t\t\t\t\t    Iniciar Sesin\n\t\t\t\t\t\t    </button>\n\t\t\t\t\t    </div>\n\t\t\t\t\t    <div className=\"text-center p-t-90\">\n\t\t\t\t\t\t    <a className=\"txt1\" href=\"#div\">\n\t\t\t\t\t\t\t    Se te olvido la contrasea?\n\t\t\t\t\t\t    </a>\n\t\t\t\t\t    </div>\n\t\t\t\t    </form>\n\t\t\t    </div>\n\t\t    </div>\n\t    </div>    \n    );\n  }\n}\n\nexport default Login;","import React, { Component } from 'react';\n\nimport './style.css'\n\nexport class MapContainer extends Component {\n  onScriptLoad = () => {     \n       \n    const map = new window.google.maps.Map(this.refs.mapDiv, this.props.options);\n    this.props.onMapLoad(map)\n  }\n\n  componentDidMount() {\n    if (!window.google) {\n      var s = document.createElement('script');\n      s.type = 'text/javascript';\n      s.src = `https://maps.google.com/maps/api/js?key=AIzaSyBPdY9qYAaATvzWFwYJdpimD99K4QaA72E`;\n      var x = document.getElementsByTagName('script')[0];\n      x.parentNode.insertBefore(s, x);\n      // Below is important. \n      //We cannot access google.maps until it's finished loading\n      s.addEventListener('load', e => {\n        this.onScriptLoad()\n      })\n    } else {      \n      this.onScriptLoad()\n    }\n  }\n    \n  render() {\n    return (\n      <div style={{ width: '100%', height: '100%' }} ref=\"mapDiv\" />\n    );\n  }\n}\n\nexport default MapContainer;","const base_url = 'http://3.19.108.94'\nconst webSocket = 'ws://3.19.108.94'\nconst webSocketPort = '40'\nconst apiPort = '4000'\n export default {\n     base_url,\n     webSocket,\n     apiPort,\n     webSocketPort\n }\n","import React, { Component } from 'react';\nimport {  Card, Button } from 'semantic-ui-react';\nimport { Modal } from 'react-bootstrap';\nimport { saveAs } from 'file-saver';\nimport constants from '../../constants/constants';\nimport Axios from 'axios';\nclass MediaContainer extends Component {\n    \n    state = {\n        modal : false,        \n    }\n\n  render() {\n    return (\n    <div className='mediaContainer col-6 p10'>   \n        <Card onClick={()=>this.setState({modal:true})}>\n            {this.props.video?<video src={constants.base_url+':'+constants.apiPort+'/'+ this.props.src} style={{width:'100%'}}/>:null}\n            {this.props.image?<img src={constants.base_url+':'+constants.apiPort+'/'+ this.props.src} style={{width:'100%'}} alt='img'/>:null}\n        </Card>\n        <Modal show={this.state.modal} onHide={()=>this.setState({modal:false})}>\n            <Modal.Header closeButton>                      \n                <Button basic onClick={this._saveFile}><i className='fa fa-download'></i> Descargar </Button>\n                {this.props.hideDelete?null:<Button basic negative onClick={this._deleteFile}><i className='fa fa-trash'></i> Eliminar</Button>}\n            </Modal.Header>\n            <Modal.Body>\n                {this.props.video?<video ref='element' autoPlay controls src={constants.base_url+':'+constants.apiPort+'/'+ this.props.src} style={{width:'100%'}}/>:null}\n                {this.props.image?<img id='imagecontainerfrommedia' src={constants.base_url+':'+constants.apiPort+'/'+ this.props.src} style={{width:'100%'}} crossOrigin='true' alt='img'/>:null}\n            </Modal.Body>\n        </Modal>\n    </div>\n    );\n  }\n\n    _saveFile = () => {\n                    \n        saveAs(this.props.src,this.props.video?'video.mp4':this.props.image?'image.jpg':'file')\n                \n    }\n\n    _deleteFile = () => {\n        console.log(this.props.cam)\n        Axios.delete(constants.base_url + ':' + constants.apiPort + '/cams/'+this.props.cam.id+'/'+this.props.value.id+'/1')\n            .then(response=>{                \n                if (response.data.success ) {\n                    this.setState({modal:false, display:'none'})\n                    this.props.reloadData()\n                } else {\n                    alert('Error al eliminar imagen')\n                }\n            })\n    }\n\n}\n\nexport default MediaContainer;","import React, { Component } from 'react';\nimport { Card, Row, Col, Modal } from 'react-bootstrap'\nimport './style.css'\nimport MediaContainer from '../MediaContainer';\nimport Axios from 'axios'\nimport constants from '../../constants/constants'\nimport { Button, Form, Label, TextArea, Radio, Tab } from 'semantic-ui-react';\nimport Chips from 'react-chips'\n\nimport JSZipUtils from 'jszip-utils'\nimport JSZip from 'jszip'\nimport saveAs from 'file-saver'\nimport jsmpeg from 'jsmpeg';\n\n\nvar vis = (function(){\n    var stateKey, eventKey, keys = {\n        hidden: \"visibilitychange\",\n        webkitHidden: \"webkitvisibilitychange\",\n        mozHidden: \"mozvisibilitychange\",\n        msHidden: \"msvisibilitychange\"\n    };\n    for (stateKey in keys) {\n        if (stateKey in document) {\n            eventKey = keys[stateKey];\n            break;\n        }\n    }\n    return function(c) {\n        if (c) document.addEventListener(eventKey, c);\n        return !document[stateKey];\n    }\n})();\nclass CameraStream extends Component {\n    state= {\n        cameraID:'',\n        cameraName:'',\n        data:{},\n        webSocket: null,\n        player: null,\n        showData:false,\n        photos:[],\n        videos:[],\n        video_history:[],\n        display:'auto',\n        interval: null,\n        isLoading:false,\n        isRecording:false,\n        process_id: 0,\n        loadingSnap:false,\n        loadingFiles:false,\n        tryReconect: false,\n        recordMessage:'',\n        modal:false,\n        lastCurrentTime:0,\n        lastCurrentFrame:0,\n        isVisible: true,\n        isPlay:true,\n        worker:null,\n        modalProblem:false,\n        problemDescription:'',\n        typeReport:1,\n        phones:[],\n        mails:[]\n    }\n\n    lastDecode= null\n    tryReconect= false\n    render() {\n\n        return (\n            <Card style={{display:this.state.display}}>                    \n                {this.props.horizontal?\n                    <Card.Body>\n                                \n                        <Card.Title>Camara {this.state.num_cam}</Card.Title>\n                        <Card.Text>\n                            <Row>\n                                <Col lg={6}>\n                                    <div className=\"camHolder\">  \n                                        <canvas id={'camcanvasstreamer'+this.state.cameraID} ref=\"camRef\" style={{width:'100%',height:this.props.height?this.props.height:'100%'}}></canvas>                      \n                                    </div>\n                                </Col>\n                                <Col lg={6}>\n                                    {this.state.cameraName}\n                                </Col>\n                            </Row>\n                        </Card.Text>\n                        {this.props.showButtons?\n                            <Card.Footer>\n                                <Button variant=\"outline-secondary\"><i className='fa fa-camera'></i></Button>\n                                <Button variant=\"outline-secondary\"><i className='fa fa-pause'></i></Button>\n                                <Button variant=\"outline-secondary\"><i className='fa fa-square'></i></Button>\n                                <Button variant=\"outline-secondary\"><i className='fa fa-repeat'></i></Button>\n                            </Card.Footer>:\n                        null}\n                    </Card.Body>:\n                    <Card.Body>                                                                          \n                        {this.props.hideTitle?null:<Card.Title>\n                            <div align='left'><i className='fa fa-video-camera'></i>  Camara {this.state.num_cam}</div>\n                        </Card.Title>}\n                        {this.state.showData?\n                        <div className=\"row dataHolder p10\">\n                            <div className=\"col snapshots\">\n                                Fotos\n                                <div className=\"row\">\n                                    {this.state.photos.map((value,index)=><MediaContainer src={value.relative_url} value={value} cam={this.state.data} reloadData={this._loadFiles} image key={index} />)}\n                                </div>\n                                {this.state.photos.length === 0 ?\n                                    <div align='center'>\n                                    <p className=\"big-letter\">No hay archivos que mostrar</p>\n                                    <i className='fa fa-image fa-5x'></i>\n                                    </div>\n                                    :null}\n                            </div>\n                            <div className=\"col videos\">\n                                Videos\n                                <Tab menu={{ secondary: true, pointing: true }} panes={[\n                                    { menuItem: 'Actuales', render: () => <Tab.Pane attached={false}><div>\n                                        <div className=\"row\">\n                                            {this.state.videos.map((value,index)=><MediaContainer src={value.relative_url} value={value} cam={this.state.data} reloadData={this._loadFiles} video key={index} />)}\n                                        </div>\n                                        {this.state.videos.length === 0 ?\n                                            <div align='center'>\n                                                <p className=\"big-letter\">No hay archivos que mostrar</p>\n                                                <i className='fa fa-image fa-5x'></i>\n                                            </div>\n                                        :null}\n                                        </div>\n                                    </Tab.Pane> },\n\n                                    { menuItem: 'Historico', render: () => <Tab.Pane attached={false}>\n                                        <div className=\"row\">\n                                            {this.state.video_history.map((value,index)=><MediaContainer hideDelete src={value.relative_url} value={value} cam={this.state.data} reloadData={this._loadFiles} video key={index} />)}\n                                        </div>\n                                        {this.state.video_history.length === 0 ?\n                                            <div align='center'>\n                                                <p className=\"big-letter\">No hay archivos que mostrar</p>\n                                                <i className='fa fa-image fa-5x'></i>\n                                            </div>\n                                        :null}\n                                    </Tab.Pane> },\n                                ]} />\n                            </div>\n                        </div>:null} \n                        <div className={this.state.showData?\"camHolder hideCamHolder\":\"camHolder\"}>  \n                                <canvas ref=\"camRef\" id={'canvasCamaraStream'+this.state.data.id} style={{width:'100%',height:'100%'}}></canvas>                      \n                                {this.state.tryReconect?'Reconectando...':null}\n                        </div> \n                        {this.props.hideText?null:<div align='left'>{this.state.cameraName}</div>}\n                        {this.props.showButtons?\n                            <Card.Footer>\n                                <Button basic disabled={this.state.photos.length>=5} loading={this.state.loadingSnap} onClick={this._snapShot}><i className='fa fa-camera'></i></Button>\n                                <Button basic onClick={this._togglePlayPause}><i className={this.state.isPlay?'fa fa-pause':'fa fa-play'}></i></Button>\n                                <Button basic disabled={this.state.videos.length>=5} loading={this.state.isLoading} onClick={() => this.recordignToggle()}><i className={ this.state.isRecording?'fa fa-stop-circle recording':'fa fa-stop-circle'} style={{color:'red'}}></i></Button>            \n                                <Button basic loading={this.state.loadingFiles} onClick={() => this._downloadFiles()}><i className='fa fa-download'></i></Button>            \n                                {this.props.hideFileButton?null:<Button className=\"pull-right\" variant=\"outline-secondary\" onClick={()=>this.setState({showData:!this.state.showData})}><i className={this.state.showData?'fa fa-video-camera':'fa fa-list'}></i></Button>}\n                                {this.props.showExternal?<Button basic onClick={()=>window.open(window.location.href.replace(window.location.pathname,'/') + 'analisis/' + this.state.data.id,'_blank','toolbar=0,location=0,directories=0,status=1,menubar=0,titlebar=0,scrollbars=1,resizable=1')}> <i className=\"fa fa-external-link\"></i></Button>:null}\n                                <Button basic onClick={()=>this.setState({modalProblem:true})}> <i className=\"fa fa-warning\"></i></Button>\n                            </Card.Footer>:\n                        null}\n                    </Card.Body>   \n\n                }\n                {this.props.showFilesBelow?\n                        <div className=\"row dataHolder p10\">\n                            <div className=\"col snapshots\">\n                                Fotos\n                                <div className=\"row\">\n                                    {this.state.photos.map((value,index)=><MediaContainer src={value.relative_url} value={value} cam={this.state.data} reloadData={this._loadFiles} image key={index} />)}\n                                </div>\n                                {this.state.photos.length === 0 ?\n                                    <div align='center'>\n                                    <p className=\"big-letter\">No hay archivos que mostrar</p>\n                                    <i className='fa fa-image fa-5x'></i>\n                                    </div>\n                                    :null}\n                            </div>\n                            <div className=\"col videos\">\n                                Videos\n                                <Tab menu={{ secondary: true, pointing: true }} panes={[\n                                    { menuItem: 'Actuales', render: () => <Tab.Pane attached={false}><div>\n                                        <div className=\"row\">\n                                            {this.state.videos.map((value,index)=><MediaContainer src={value.relative_url} value={value} cam={this.state.data} reloadData={this._loadFiles} video key={index} />)}\n                                        </div>\n                                        {this.state.videos.length === 0 ?\n                                            <div align='center'>\n                                                <p className=\"big-letter\">No hay archivos que mostrar</p>\n                                                <i className='fa fa-image fa-5x'></i>\n                                            </div>\n                                        :null}\n                                        </div>\n                                    </Tab.Pane> },\n\n                                    { menuItem: 'Historico', render: () => <Tab.Pane attached={false}>\n                                        <div className=\"row\">\n                                            {this.state.video_history.map((value,index)=><MediaContainer hideDelete src={value.relative_url} value={value} cam={this.state.data} reloadData={this._loadFiles} video key={index} />)}\n                                        </div>\n                                        {this.state.video_history.length === 0 ?\n                                            <div align='center'>\n                                                <p className=\"big-letter\">No hay archivos que mostrar</p>\n                                                <i className='fa fa-image fa-5x'></i>\n                                            </div>\n                                        :null}\n                                    </Tab.Pane> },\n                                ]} />\n                            </div>\n                        </div>:null} \n                        <Modal size=\"lg\" show={this.state.modal} onHide={()=>this.setState({modal:false})}>\n                            <Modal.Header closeButton>                      \n                                \n                            </Modal.Header>\n                            <Modal.Body>\n                                {this.state.recordMessage}\n                            </Modal.Body>\n                        </Modal>\n\n                        <Modal size=\"lg\" show={this.state.modalProblem} onHide={()=>this.setState({modalProblem:false,problemDescription:'',phones:[],mails:[]})}>\n                            <Modal.Header closeButton>                      \n                            Reportar problema en camara {this.state.data.num_cam}\n                            </Modal.Header>\n                            <Modal.Body>\n                                <Form>\n                                    <Form.Field>\n\n                                        <Form.Field>\n                                            <Radio\n                                                label='Reportar emergencia'\n                                                name='typeReport'\n                                                value={1}\n                                                checked={this.state.typeReport === 1} \n                                                onChange={this.handleChange}\n                                            />\n                                        </Form.Field>\n                                        <Form.Field>\n                                            <Radio\n                                                label='Mantenimiento de camara'\n                                                name='typeReport'\n                                                value={2}\n                                                checked={this.state.typeReport === 2}\n                                                onChange={this.handleChange}\n                                            />\n                                        </Form.Field>                                  \n                                    </Form.Field>\n                                    {this.state.typeReport === 2?null:<Form.Field>\n                                        <Label>\n                                            Se notificara a los numeros de emergencia registrados. Si se desea agregar un telefono extra ingreselo aqui indicando la lada del mismo(+525512345678).                                \n                                        </Label>\n                                        <Chips\n                                            value={this.state.phones}\n                                            onChange={this.onChange}\n                                            fromSuggestionsOnly={false}   \n                                            createChipKeys={[' ',13,32]}                                 \n                                        />\n                                    </Form.Field>}\n                                    {this.state.typeReport === 2?null:<Form.Field>\n                                        <Label>\n                                            Se notificara a los emails de emergencia registrados. Si se desea agregar un email extra ingreselo aqui.                                \n                                        </Label>\n                                        <Chips\n                                            value={this.state.mails}\n                                            onChange={this.onChangeMail}\n                                            fromSuggestionsOnly={false}   \n                                            createChipKeys={[' ',13,32]}                                 \n                                        />\n                                    </Form.Field>}\n                                    <Form.Field>\n                                        {this.state.typeReport === 2?<Label>\n                                            Se lo mas claro posible, indique si ha realizado \n                                            alguna accion para intentar resolver el problema.\n                                        </Label>:<Label>\n                                           Indique la emergencia que se presento en la camara.\n                                        </Label>}\n                                        <TextArea \n                                            value={this.state.problemDescription} \n                                            onChange={this.handleChange} \n                                            rows={10} \n                                            name = 'problemDescription'\n                                            placeholder='Redacte aqui su problema' \n                                        />                                    \n                                    </Form.Field>\n                                </Form>\n                                <Button className='pull-right' primary onClick={this._sendReport}>Enviar</Button>\n                            </Modal.Body>\n                        </Modal>\n            </Card>\n        );\n    } \n\n    onChange = chips => {\n        this.setState({ phones:chips });\n      }\n      onChangeMail = chips => {\n        this.setState({ mails:chips });\n      }\n\n    handleChange = (e, { name, value }) => this.setState({ [name]: value })\n\n    _sendReport = () => {\n        console.log(this.state.cameraProblem)\n        this.setState({modalProblem:false})\n        Axios.post(constants.base_url + ':' + constants.apiPort + '/tickets',{\n          \"camera_id\": this.state.data.id,\n          \"problem\": this.state.problemDescription,\n          \"user_id\": 1,\n          \"phones\":this.state.phones.join(),\n          \"mails\":this.state.mails.join(),\n          \"type_report\":this.state.typeReport,          \n        })\n            .then(response => {              \n                const data = response.data              \n                this.setState({problemDescription:''})\n                if (data.success) {\n                  alert('Ticket creado correctamente')\n                } else {\n                  alert('Error al crear ticket')\n                  console.log(data.error)\n                }\n            }) \n    }\n\n    _togglePlayPause = () => {\n        if (this.state.isPlay) {\n            this.state.player.stop()\n        } else {\n            this.state.player.stop()                            \n            if (this.state.webSocket) {\n                this.state.webSocket.close()\n            }\n            this.tryRconection()\n        }\n        this.setState({isPlay:!this.state.isPlay})\n    }\n\n    recordignToggle = () => {\n        if(this.state.isRecording){\n            \n            this.setState({isLoading:true})\n            Axios.put(constants.base_url + ':' + constants.apiPort + '/control-cams/stop-record/' + this.state.data.id,\n                {\n                    record_proccess_id:this.state.process_id \n                })\n                .then((r) => { \n                    const response = r.data\n                    console.log(response)\n                    if (response.success === true) {\n                        this.setState({isRecording:false,isLoading:false,modal:true,recordMessage:response.msg})                        \n                        this._loadFiles()\n                    } else {\n                        this.setState({isRecording:false,isLoading:false,modal:true,recordMessage:response.msg})                        \n                    }\n                })\n        } else {\n           Axios.post(constants.base_url + ':' + constants.apiPort + '/control-cams/start-record/' + this.state.data.id,{                                       \n            })\n                .then((r) => { \n                    const response = r.data\n                    if (response.success === true) {\n                        this.setState({isRecording:true,process_id:response.id_record_proccess})                        \n                        \n                    }\n                })\n        }\n    }\n  componentDidMount(){      \n      this.setState({cameraName:this.props.marker.title,num_cam:this.props.marker.extraData.num_cam,cameraID:this.props.marker.extraData.id,data:this.props.marker.extraData})               \n      try{\n          var ws = new WebSocket(this.props.marker.extraData.webSocket)\n          ws.onerror = this._wsError\n          ws.onclose = function() {}                 \n      } catch (err) {\n        this._wsError(err)\n      }\n      try {\n        var p = new jsmpeg(ws, {canvas:this.refs.camRef, autoplay:true,audio:false,loop: true, onload:this._endedPlay, /*ondecodeframe:this._decode,*/onfinished:this._endedPlay,disableGl:true,forceCanvas2D: true});\n        let interval = setInterval(this._checkIsUp,60000)  \n        this.setState({interval: interval})\n      } catch (err) {\n          this._playerError(err)\n      }\n           \n      this.setState({\n          webSocket: ws,\n          player: p,\n      })      \n      if (this.props.height) {\n          if (this.refs.camRef.getBoundingClientRect().width === 0) {\n            this.refs.camRef.style.height = (window.visualViewport.width - 50 ) * this.props.height+'px'  \n          } else {\n            this.refs.camRef.style.height = this.refs.camRef.getBoundingClientRect().width * this.props.height+'px'   \n          }        \n      }\n      if(this.props.showButtons){\n          this._loadFiles()\n      }\n      vis(this._isVisisbleChange)\n      window.addEventListener('restartCamEvent', this._restartCam, false)\n  }\n\n\n\n\n  _isVisisbleChange = () => {    \n      this.setState({isVisible:vis()})\n  }\n\n  _endedPlay = (data) => {\n      console.log('play ended', data)\n  }\n\n  _checkIsUp = () => {            \n    if (this.state.lastCurrentTime === this.state.player.currentTime || this.state.lastCurrentFrame===this.state.player.currentFrame) {\n        if (!this.tryReconect&&this.state.isVisible) {\n            this.setState({tryReconect:true})\n            this.tryReconect = true\n            console.log('is delay, cam' + this.state.data.num_cam)                \n            this.state.player.stop()                            \n            if (this.state.webSocket) {\n                this.state.webSocket.close()\n            }\n            this.tryRconection()\n\n        }\n    }\n    this.setState({lastCurrentTime:this.state.player.currentTime,lastCurrentFrame:this.state.player.currentFrame})\n    \n\n  }\n\n  _snapShot = () => {\n      this.setState({loadingSnap:true})\n    if (this.state.data.id) {\n        Axios.post(constants.base_url + ':' + constants.apiPort + '/control-cams/screenshot/' + this.state.data.id)\n            .then(response => {\n                this.setState({loadingSnap:false})\n                const data = response.data\n                console.log(data)\n                if (data.success) {\n                    this._loadFiles()\n                }\n            }) \n    } else {\n        Axios.post(constants.base_url + ':' + constants.apiPort + '/control-cams/screenshot/' + this.props.marker.extraData.id)\n            .then(response => {\n                this.setState({loadingSnap:false})\n                const data = response.data\n                console.log(data)\n                if (data.success) {\n                    this._loadFiles()\n                }\n            })         \n    } \n  }\n\n  _loadFiles = () =>{            \n    if (this.state.data.id) {\n        Axios.get(constants.base_url + ':' + constants.apiPort + '/cams/' + this.state.data.id + '/data')\n            .then(response => {\n                const data = response.data\n                console.log(data)\n                this.setState({videos:data.data.videos,photos:data.data.photos,video_history:data.data.videos_history})\n            }) \n    } else {\n        Axios.get(constants.base_url + ':' + constants.apiPort + '/cams/' + this.props.marker.extraData.id + '/data')\n            .then(response => {\n                const data = response.data\n                console.log(data)\n                this.setState({videos:data.data.videos,photos:data.data.photos,video_history:data.data.videos_history})\n            })         \n    }     \n          \n}\n\n  _wsError = (err) => {\n    //console.log('websocket error',err)\n    //this.setState({display:'none'})\n    //setTimeout(this.tryRconection,30000)\n    this.setState({tryReconect:false})  \n    this.tryReconect = false\n  }\n\n  \n  tryRconection = () => {\n    try{\n        var ws = new WebSocket(this.props.marker.extraData.webSocket)          \n        ws.onerror = this._wsError  \n        ws.onclose = function() {}                         \n        var p = new jsmpeg(ws, {canvas:this.refs.camRef, autoplay:true,audio:false,loop: true, onload:this._endedPlay/*, ondecodeframe:this._decode*/,onfinished:this._endedPlay,disableGl:true,forceCanvas2D: true});\n        this.setState({\n            webSocket: ws,\n            player: p\n        })   \n        this.setState({tryReconect:false})  \n        this.tryReconect = false\n    } catch (err) {\n      this._wsError(err)\n    }           \n  }\n\n    _restartCam = () => {\n        if (!this.tryReconect&&this.state.isVisible) {\n            this.setState({tryReconect:true})\n            this.tryReconect = true\n            console.log('reconnecting, cam ' + this.state.data.num_cam)                \n            this.state.player.stop()  \n            if(this.state.player.destroy){\n                this.state.player.destroy()  \n            }                          \n            if (this.state.webSocket) {\n                this.state.webSocket.close()\n            }\n            setTimeout(this.tryRconection,5000)            \n\n        }\n    }\n\n  _wsMessage = (msg) => {\n    console.log('websock message',msg)\n  }\n\n  _playerError = (err) => {\n    console.log('player error',err)\n  }\n\n    componentWillUnmount(){\n        this.state.player.stop()\n        if(this.state.webSocket)\n        {\n            this.state.webSocket.close()\n        }\n        if (this.state.isRecording) {\n            Axios.put(constants.base_url + ':' + constants.apiPort + '/control-cams/stop-record/' + this.state.data.id,\n                {\n                    record_proccess_id:this.state.process_id \n                })\n        }\n        clearInterval(this.interval)\n        window.removeEventListener('restartCamEvent', this._restartCam, false)\n    }\n\n    urlToPromise = (url) => {\n        return new Promise(function(resolve, reject) \n        {\n            JSZipUtils.getBinaryContent(url, function (err, data) \n            {\n                if(err) \n                {\n                    reject(err);\n                } else {\n                    resolve(data);\n                }\n            });\n        });\n    }\n\n    _downloadFiles = () => {\n        this.setState({loadingFiles:true})        \n        var zip = new JSZip();\n        var imgs = zip.folder('images')\n        this.state.photos.forEach((url)=>{\n            var filename = url.name;\n            imgs.file(filename, this.urlToPromise(constants.base_url + ':' + constants.apiPort + '/' + url.relative_url ), {binary:true});\n        });\n        var vds = zip.folder('videos')\n        this.state.videos.forEach((url)=>{\n            var filename = url.name;\n            vds.file(filename, this.urlToPromise(constants.base_url + ':' + constants.apiPort + '/' + url.relative_url ), {binary:true});\n        });\n        zip.generateAsync({type:\"blob\"}).then((content) => {\n            // see FileSaver.js\n            this.setState({loadingFiles:false})\n            saveAs(content, \"cam_\"+this.state.data.num_cam+\".zip\");  \n                      \n        });\n    } \n}\nexport default CameraStream;","import React, { Component } from 'react';\nimport MapContainer from '../../components/MapContainer'\nimport CameraStream  from '../../components/CameraStream'\nimport { render } from 'react-dom';\nimport { JellyfishSpinner } from \"react-spinners-kit\";\nimport '../../assets/styles/util.css';\nimport '../../assets/styles/main.css';\nimport '../../assets/fonts/iconic/css/material-design-iconic-font.min.css'\nimport './style.css'\nimport constants from '../../constants/constants';\n\nconst mapOptions= {\n    center: {lat: 19.459430, lng: -99.208588},\n    zoom: 15,\n    mapTypeId: 'roadmap',\n    zoomControl: false,\n    mapTypeControl: false,\n    streetViewControl: false,\n    fullscreenControl: false,\n    map: null, \n    loading: true   \n}\n\nclass Map extends Component {\n\n    state = {\n        places : [\n        ],\n        webSocket:'ws://18.222.106.238'\n    }\n\n  render() {\n    return (\n        <div className=\"map\">\n         <div style={{position:'absolute',top:'30%', background:'transparent', width:'100%'}} align='center'>\n         <JellyfishSpinner\n                size={250}\n                color=\"#686769\"\n                loading={this.state.loading}                \n            />\n         </div>\n            <MapContainer                 \n                options={mapOptions}\n                places={this.state.places} \n                onMapLoad={this._onMapLoad} />\n        </div>\n    );\n  }\n\n    _onMapLoad = map => {        \n        this.setState({map:map})        \n        const marker = []        \n        this.state.places.map((value,index)=>{\n             marker[index]= new window.google.maps.Marker({\n                position: { lat:value.lat, lng:value.lng },\n                map: map | this.state.map,\n                title: value.name,\n                extraData:value\n            });\n            window.google.maps.event.addListener(marker[index],'click', (function(marker, map, createInfoWindow) {\n                return function() {                  \n                  createInfoWindow(marker,map)\n                }\n              })(marker[index], map | this.state.map,this.createInfoWindow))\n            return true\n        })\n        \n    }\n    createInfoWindow = (e, map) => {   \n        console.log(map)     \n        const infoWindow = new window.google.maps.InfoWindow({\n            content: '<div id=\"infoWindow'+e.extraData.id+'\" class=\"windowpopinfo\"/>',\n            position: { lat: e.position.lat(), lng: e.position.lng() }\n        })\n        console.log(e)\n        infoWindow.addListener('domready', (function(marker, render) {\n            return function() {                  \n                render(<CameraStream marker={marker} showButtons height={.65} showExternal/>, document.getElementById('infoWindow'+e.extraData.id))\n            }\n          })(e,render))\n        infoWindow.open(map)\n    }\n\n    componentDidMount(){\n        fetch(constants.base_url+':'+constants.apiPort+'/register-cams/all-cams')\n        .then((response) => {\n            return response.json();\n        })\n        .then((camaras) => {\n            let auxCamaras = []\n            camaras.map(value=>{\n                if (value.active === 1) {\n                    auxCamaras.push({\n                        id:value.id,\n                        num_cam:value.num_cam,\n                        lat:parseFloat(value.google_cordenate.split(',')[0]), \n                        lng:parseFloat(value.google_cordenate.split(',')[1]),                            \n                        webSocket:this.state.webSocket + ':' +constants.webSocketPort+(value.num_cam>=10?'':'0') + value.num_cam,\n                        name: value.street +' '+ value.number + ', ' + value.township+ ', ' + value.town+ ', ' + value.state\n                    })\n                }\n                return true\n            })\n            console.log(auxCamaras);\n            this.setState({loading:false,places:auxCamaras})\n            const marker = []\n            this.state.places.map((value,index)=>{\n                marker[index]= new window.google.maps.Marker({\n                    position: { lat:value.lat, lng:value.lng },\n                    map:  this.state.map,\n                    title: value.name,\n                    extraData:value\n                });\n                window.google.maps.event.addListener(marker[index],'click', (function(marker, map, createInfoWindow) {\n                    return function() {                  \n                    createInfoWindow(marker,map)\n                    }\n                })(marker[index], this.state.map,this.createInfoWindow))\n                return true\n            })\n        });\n      const navHeight = document.getElementsByTagName('nav')[0].scrollHeight\n      const documentHeight = window.innerHeight\n      let map = document.getElementsByClassName('map')[0]//.style.height = documentHeight - navHeight\n      map.style.height  = documentHeight - navHeight + \"px\"   \n      map.style.maxHeight  = documentHeight - navHeight + \"px\" \n      window.addEventListener('resize', this._resizeMap);     \n  }\n\n    _resizeMap = () => {\n        let navHeight;\n        if(document.getElementsByTagName('nav')[0]){navHeight = document.getElementsByTagName('nav')[0].scrollHeight}\n        const documentHeight = window.innerHeight\n        let map = document.getElementsByClassName('map')[0]//.style.height = documentHeight - navHeight\n        if (map) {\n            map.style.height  = documentHeight - navHeight + \"px\"   \n            map.style.maxHeight  = documentHeight - navHeight + \"px\" \n        }\n  }\n}\n\nexport default Map;","import React, { Component } from 'react';\nimport { Card, Image } from 'semantic-ui-react'\nimport { withRouter } from \"react-router-dom\";\nimport './style.css'\n\nclass Match extends Component {   \n    state = {\n        seeMore: false,\n        imageCamera:'https://react.semantic-ui.com/images/avatar/large/matthew.png',\n        imageDB:'https://react.semantic-ui.com/images/avatar/large/matthew.png',\n        name: 'Jonh Doe',\n        match:parseFloat(Math.random()*100).toFixed(2),\n        description:'Matthew is a musician living in Nashville.',\n        extraData:{\n\n        }\n    }\n    _changeSeeMore = () => {\n        //this.setState({seeMore: !this.state.seeMore})\n    }\n    render() {        \n        return (\n            <Card className='cardmatchComtainer' onClick={this._godetails}>\n                <Card.Content>                \n                    {/* <Card.Meta>\n                        <span className='date'>{this.state.match}% de coincidencia</span>\n                    </Card.Meta> */}\n                    <Card.Description>\n                        <div className =\" imageContainer row\">\n                            <div className = 'col-4 suspectPhoto' align=\"center\"><Image src={this.state.imageCamera} /></div>\n                            <div className = 'col-8 limitlines' align='left'> \n                                <div align='right'>\n                                    25-03-2019 14:35\n                                </div>\n                                <div className=\"textcontainerdescription\">\n                                    <p>\n                                        <b>{this.state.name}</b>, \n                                        {this.state.description}\n                                    </p>\n                                </div>\n                                <div align='right'>\n                                    <span className=\"badge badge-danger\">Cerrado</span>\n                                </div>\n                            </div>\n                        </div>                    \n                    </Card.Description>\n                </Card.Content>\n                {/*<Card.Content extra onClick={this._godetails}>\n                    Ver Detalles\n                </Card.Content>*/}\n            </Card>\n        );\n    }\n\n\n    _godetails = () => {\n        if(this.props.toggleControls){\n            this.props.toggleControls() \n        }\n        \n        window.open(window.location.href.replace(window.location.pathname,'/') + 'detalles/' + this.state.extraData.id,'_blank','toolbar=0,location=0,directories=0,status=1,menubar=0,titlebar=0,scrollbars=1,resizable=1,width=650,height=500')\n        //this.props.history.push('/detalles/'+this.state.extraData.id)\n    }\n    componentDidMount(){\n        if(this.props.info){\n            this.setState({\n                name: this.props.info.title,\n                imageCamera:this.props.info.images[0].original,\n                imageDB:this.props.info.images[1]?this.props.info.images[1].original:this.props.info.images[0].original,\n                description: this.props.info.description,\n                extraData:this.props.info\n            })\n        }\n    }\n       \n}\n\nexport default withRouter(Match);","import React, { Component } from 'react';\n//import Carousel from 'nuka-carousel';\nimport CameraStream from '../CameraStream';\nimport {  Button, Tab } from 'semantic-ui-react'\nimport responseJson from '../../assets/json/suspects.json'\nimport './style.css'\nimport Match from '../Match';\nimport MediaContainer from '../MediaContainer';\nimport Axios from 'axios';\nimport constants from '../../constants/constants';\n\nclass LoopCamerasDisplay extends Component {\n    \n    state = {\n        markers : [],\n        slideIndex: 0,\n        autoplay: true,\n        interval:null,\n        isRecording:false,\n        photos:[],\n        videos:[],\n        video_history:[],\n        isplaying:[],\n        matches: [],\n        height:'50%',\n        isplay: true\n    }\n\n    _showCameraInfo(){\n        this.props.toggleControlsBottom()\n    }\n\n  render() {\n    return (\n    <div className=\"holderOfSlides\">\n            {this.props.error?<div className=\"errorContainer\">\n                Error al cargar informacion: {JSON.stringify(this.props.error)}\n            </div>:null}\n            {this.state.markers.map((value,index) => <div key={value.extraData.id} style={{height:'100%'}} className={(index===this.state.slideIndex )?'':'hiddenCameraNotshow'}><CameraStream ref={'camstreamloopref'+value.id} marker={value} height={this.state.height} /></div>)}        \n        <div className={!this.state.autoplay?'camControl showfiles':'camControl'}>\n            <div className='row stiky-top'>\n                <div className='col-8'>\n                        <Button basic circular disabled={this.state.photos.length>=5} loading={this.props.loadingSnap} onClick={()=>this.props.snapShot(this.state.markers[this.state.slideIndex].extraData)}><i className='fa fa-camera'></i></Button>                \n                        <Button basic circular onClick={this._playPause}><i className={this.state.isplay?'fa fa-pause':'fa fa-play'}></i></Button>\n                        <Button basic circular disabled={this.state.videos.length>=5} onClick={() => this.props.recordignToggle(this.state.markers[this.state.slideIndex].extraData)}><i className={ this.props.recordingCams.indexOf(this.state.markers[this.state.slideIndex].extraData)>-1?'fa fa-stop-circle recording':'fa fa-stop-circle'} style={{color:'red'}}></i></Button>            \n                        <Button basic circular onClick={()=>window.open(window.location.href.replace(window.location.pathname,'/') + 'analisis/' + this.state.markers[this.state.slideIndex].extraData.id,'_blank','toolbar=0,location=0,directories=0,status=1,menubar=0,titlebar=0,scrollbars=1,resizable=1')}> <i className=\"fa fa-external-link\"></i></Button>\n                        <Button basic circular onClick={()=>this.props.downloadFiles(this.state.markers[this.state.slideIndex].extraData, {videos:this.state.videos,images:this.state.photos})} loading={this.props.loadingFiles}> <i className=\"fa fa-download\"></i></Button>\n                        <Button basic circular onClick={()=>this.props.makeReport(this.state.markers[this.state.slideIndex].extraData)}> <i className=\"fa fa-warning\"></i></Button>\n                </div>\n                <div className='col-4'>\n                    <Button onClick={this._openCameraInfo} className='pull-right' primary><i className={ this.state.autoplay?'fa fa-square':'fa fa-play'}></i> { this.state.autoplay?'Parar loop':'Continuar loop'} <i className={ this.state.autoplay?'fa fa-chevron-up':'fa fa-chevron-down'}></i></Button>                \n                </div>\n            </div>\n            <div className={!this.state.autoplay?'row showfilesinfocamera':'row hidefiles'}>\n                <div className=\"col snapshots\">\n                    Fotos\n                    <div className=\"row\">\n                        {this.state.photos.map((value,index)=><MediaContainer src={value.relative_url} value={value} cam={this.state.markers[this.state.slideIndex].extraData} reloadData={this._loadFiles} image key={index} />)}\n                    </div>\n                     {this.state.photos.length === 0 ?\n                            <div align='center'>\n                             <p className=\"big-letter\">No hay archivos que mostrar</p>\n                             <i className='fa fa-image fa-5x'></i>\n                            </div>\n                            :null}\n                </div>\n                <div className=\"col videos\">\n                    Videos\n                    <Tab menu={{ secondary: true, pointing: true }} panes={[\n                        { menuItem: 'Actuales', render: () => <Tab.Pane attached={false}><div>\n                            <div className=\"row\">\n                                {this.state.videos.map((value,index)=><MediaContainer src={value.relative_url} value={value} cam={this.state.markers[this.state.slideIndex].extraData} reloadData={this._loadFiles} video key={index} />)}\n                            </div>\n                            {this.state.videos.length === 0 ?\n                                <div align='center'>\n                                    <p className=\"big-letter\">No hay archivos que mostrar</p>\n                                    <i className='fa fa-image fa-5x'></i>\n                                </div>\n                            :null}\n                            </div>\n                        </Tab.Pane> },\n\n                        { menuItem: 'Historico', render: () => <Tab.Pane attached={false}>\n                            <div className=\"row\">\n                                {this.state.video_history.map((value,index)=><MediaContainer hideDelete src={value.relative_url} value={value} cam={this.state.markers[this.state.slideIndex].extraData} reloadData={this._loadFiles} video key={index} />)}\n                            </div>\n                            {this.state.video_history.length === 0 ?\n                                <div align='center'>\n                                    <p className=\"big-letter\">No hay archivos que mostrar</p>\n                                    <i className='fa fa-image fa-5x'></i>\n                                </div>\n                            :null}\n                        </Tab.Pane> },\n                    ]} />                    \n                </div>\n                <div className=\"col matches\" align=\"center\">\n                    Historial\n                    {this.state.matches.map((value, index)=><Match key={index} info={value} toggleControls={this._closeControl} />)}\n                </div>\n            </div>            \n        </div>   \n    </div>\n    );\n  }\n\n\n    _recordToggle = () => {\n        console.log(this.state.markers)\n        console.log(this.state.slideIndex)\n        //this.props.recordignToggle(this.state.markers[this.state.slideIndex])\n    }\n    _playPause = () =>{\n\n        let isplaying = this.state.isplaying\n        if(this.state.isplaying.length === 0){\n            isplaying = {}\n            this.state.markers.map((value,index)=>{\n                isplaying[index] = true\n                return true;\n            })            \n        }\n        console.log(isplaying)\n        isplaying[this.state.slideIndex] = !isplaying[this.state.slideIndex]                \n        console.log(isplaying)\n        this.setState({isplaying:isplaying,isplay:isplaying[this.state.slideIndex]})\n        this.refs['camstreamloopref'+this.state.markers[this.state.slideIndex].id]._togglePlayPause()\n    } \n    _openCameraInfo = () => { \n        if (this.props.error === null) {\n            const index = 'camstreamloopref'+this.state.slideIndex\n            console.log(index)               \n            if(this.state.autoplay){                           \n                clearInterval(this.state.interval)\n                this.setState({autoplay: false})\n                this._loadFiles()\n            }  else {\n                    \n                const time =  setInterval(this.changeSlide,5000)\n                this.setState({autoplay: true,interval: time,videos:[],photos:[],video_history:[]})            \n            }   \n        }  \n    }\n\n    _loadFiles = () =>{                           \n        Axios.get(constants.base_url + ':' + constants.apiPort + '/cams/' + this.state.markers[this.state.slideIndex].extraData.id + '/data')\n        .then(response => {\n            const data = response.data\n            console.log(data)\n            this.setState({videos:data.data.videos,photos:data.data.photos,video_history:data.data.videos_history})\n        })       \n    }\n\n\n    componentDidMount(){\n        let markersForLoop = []\n        let playing=[]\n        this.props.places.map((value)=>{\n            markersForLoop.push({\n                title:value.name,\n                extraData:value\n            })\n            playing.push(true)        \n            return true\n        })    \n        this.setState({isplaying:playing})\n        const navHeight = document.getElementsByTagName('nav')[0].scrollHeight\n        const viewBar = document.getElementsByClassName('toggleViewButton')[0].scrollHeight\n        const bottomBar = document.getElementsByClassName('camControl')[0].scrollHeight\n        const documentHeight = window.innerHeight \n        let map = document.getElementsByClassName('holderOfSlides')[0]//.style.height = documentHeight - navHeight       \n        map.style.height  = (documentHeight - navHeight - bottomBar - viewBar) + \"px\"   \n        map.style.maxHeight  = (documentHeight - navHeight - bottomBar - viewBar) + \"px\"                      \n        const time =  setInterval(this.changeSlide,5000)        \n        let cameras = []\n          for(let item in responseJson.items){\n            let suspect = responseJson.items[item]            \n            //if(suspect.person_classification !== \"Victim\"){\n              suspect.description = suspect.description.replace(/<p>/g,'').replace(/<\\/p>/g,'')                            \n              cameras.push(suspect)\n            //}\n          }       \n          if (this.state.markers[0]) {\n            Axios.get(constants.base_url + ':' + constants.apiPort + '/cams/' + this.state.markers[0].extraData.id + '/data')\n            .then(response => {\n                const data = response.data                \n                this.setState({videos:data.data.videos,photos:data.data.photos})\n            })\n          }\n          this.setState({interval: time,markers:markersForLoop, height:.4,matches:cameras})\n    }\n\n    changeSlide = () => {\n        let isp = {}\n        if(this.state.isplaying.length === 0){            \n            this.state.markers.map((value,index)=>{\n                isp[index] = true\n                return true;\n            })            \n        } else {\n            isp = this.state.isplaying;\n        }\n        this.setState({videos:[],photos:[]})\n        let si = this.state.slideIndex === this.state.markers.length - 1 ? 0 : this.state.slideIndex + 1\n        Axios.get(constants.base_url + ':' + constants.apiPort + '/cams/' + this.state.markers[si].extraData.id + '/data')\n            .then(response => {\n                const data = response.data                \n                this.setState({videos:data.data.videos,photos:data.data.photos})\n            })\n        this.setState({slideIndex: si,isplaying:isp,isplay:this.state.isplaying[si]===undefined?true:this.state.isplaying[si] })\n    }\n\n    componentDidUpdate(){\n        const navHeight = document.getElementsByTagName('nav')[0].scrollHeight\n        const viewBar = document.getElementsByClassName('toggleViewButton')[0].scrollHeight\n        const bottomBar = document.getElementsByClassName('camControl')[0].scrollHeight        \n        const documentHeight = window.innerHeight                 \n        let map = document.getElementsByClassName('holderOfSlides')[0]//.style.height = documentHeight - navHeight       \n        map.style.height  = (documentHeight - navHeight - bottomBar - viewBar ) + \"px\"   \n        map.style.maxHeight  = (documentHeight - navHeight - bottomBar - viewBar ) + \"px\"  \n        let canvas = document.querySelector('.holderOfSlides>div:not(.hiddenCameraNotshow)>.card>.card-body>.camHolder>canvas')\n        if (canvas) {\n            if (this.state.autoplay) {\n                canvas.style.height = '100%'\n                canvas.style.width = '100%'\n            } else {\n                canvas.style.height = '95%'\n                canvas.style.width = '80%'\n            }\n        }\n    }\n\n\n    static getDerivedStateFromProps(props, state){\n        let markersForLoop = []        \n        props.places.map((value,index)=>{\n            markersForLoop.push({\n                title:value.name,\n                extraData:value\n            })            \n            return true\n        })\n        let aux = state\n        aux.markers= markersForLoop        \n        return aux        \n    }\n\n}\n\nexport default LoopCamerasDisplay;","import React, { Component } from 'react';\nimport CameraStream from '../CameraStream';\nimport { Row,Col} from 'react-bootstrap'\nimport {  Button, Select, Tab } from 'semantic-ui-react'\nimport responseJson from '../../assets/json/suspects.json'\nimport './style.css'\nimport Match from '../Match';\nimport MediaContainer from '../MediaContainer';\nimport Axios from 'axios';\nimport constants from '../../constants/constants';\nimport ReactPaginate from 'react-paginate';\n\nconst countryOptions = [{\n    key: 5,\n    text: 5,\n    value: 5\n  },{\n    key: 10,\n    text: 10,\n    value: 10\n  },{\n    key: 15,\n    text: 15,\n    value: 15\n  },{\n    key: 20,\n    text: 20,\n    value: 20\n  },{\n    key: 25,\n    text: 25,\n    value: 25\n  },{\n    key: 30,\n    text: 30,\n    value: 30\n  },{\n    key: 50,\n    text: 50,\n    value: 50\n  }]\nclass GridCameraDisplay extends Component {\n    \n    state = {\n        markers : [],\n        height:'auto',\n        fullHeight:10,\n        isplaying:[],\n        slideIndex:0,\n        matches:[],\n        photos:[],\n        videos:[],\n        video_history:[],\n        autoplay: true,\n        selectedCamera:{},\n        isRecording:false,\n        recordingCams:[],\n        recordingProcess:[],\n        loadingRcord: false,\n        limit:20,\n        start:0,\n        pageCount:1,\n        isplay:true\n    }\n\n  render() {\n    return (\n    <div className='gridCameraContainer' align='center'>                \n        <Row >     \n            {this.state.markers.map((value,index) => (index<this.state.start+this.state.limit)&&index>=this.state.start?<Col className={this.state.selectedCamera === value.extraData?'p-l-0 p-r-0 activeselectedcameragrid':'p-l-0 p-r-0'}  lg={4} sm={6}   key={value.extraData.id} onClick = {() => this._openCameraInfo(value,index)} marker={value.id}><CameraStream ref={'camrefgrid'+value.extraData.id} key={value.extraData.id} marker={value} height={.7}/></Col>:null)}        \n        </Row>               \n        {this.props.loading?null:\n        <Row className='paginatorContainerOnGrid'>\n            <Col>\n             Camaras por pagina <Select placeholder='Camaras por pagina' options={countryOptions}  value={this.state.limit} onChange={(e,value)=>{                \n                const pageCount = Math.ceil(this.state.markers.length / value.value)\n                console.log(\"paginas a mostar\",pageCount)\n                this.setState({start:0,limit:value.value,pageCount:pageCount})\n            }}/>\n            </Col>\n            <Col>\n                <ReactPaginate\n                    previousLabel={'Anterior'}\n                    nextLabel={'Siguiente'}\n                    breakLabel={'...'}\n                    pageCount={ this.state.pageCount}\n                    marginPagesDisplayed={2}\n                    pageRangeDisplayed={5}\n                    onPageChange={this.handlePageClick}\n\n                    containerClassName={'pagination'}\n                    subContainerClassName={'pages pagination'}\n                    activeClassName={'active'}\n                /> \n            </Col>\n        </Row>}  \n            {this.props.error?<div className=\"errorContainer\">\n                Error al cargar informacion: {JSON.stringify(this.props.error)}\n            </div>:null}\n        <div className={!this.state.autoplay?'camGridControl showfiles':'camGridControl'}>\n            <div className='row stiky-top'>\n                <div className='col-4'>\n                    \n                        <Button basic circular  disabled={this.state.photos.length>=5}  loading={this.props.loadingSnap} onClick={()=>this.props.snapShot(this.state.selectedCamera)}><i className='fa fa-camera'></i></Button>\n                        <Button basic circular onClick={this._playPause}><i className={this.state.isplay?'fa fa-pause':'fa fa-play'}></i></Button>\n                        <Button basic circular  disabled={this.state.videos.length>=5}  loading={this.props.loadingRcord} onClick={()=>this.props.recordignToggle(this.state.selectedCamera)}><i className={ this.props.recordingCams.indexOf(this.state.selectedCamera)>-1?'fa fa-stop-circle recording':'fa fa-stop-circle'} style={{color:'red'}}></i></Button>            \n                        <Button basic circular onClick={()=>window.open(window.location.href.replace(window.location.pathname,'/') + 'analisis/' + this.state.selectedCamera.id,'_blank','toolbar=0,location=0,directories=0,status=1,menubar=0,titlebar=0,scrollbars=1,resizable=1')}> <i className=\"fa fa-external-link\"></i></Button>\n                        <Button basic circular onClick={()=>this.props.downloadFiles(this.state.selectedCamera, {videos:this.state.videos,images:this.state.photos})} loading={this.props.loadingFiles}> <i className=\"fa fa-download\"></i></Button>\n                        <Button basic circular onClick={()=>this.props.makeReport(this.state.selectedCamera)}> <i className=\"fa fa-warning\"></i></Button>\n                </div>\n                <div className='col-5'>\n                    <b>Camara {this.state.selectedCamera.num_cam}</b> {this.state.selectedCamera.name} \n                </div>\n                <div className='col-3'>                    \n                    <Button onClick={()=>this._openCameraInfo(false)} className='pull-right' primary> { this.state.autoplay?'':'Ocultar controles'} <i className={ this.state.autoplay?'fa fa-chevron-up':'fa fa-chevron-down'}></i></Button>                \n                </div>\n            </div>\n            <div className={!this.state.autoplay?'row showfilesinfocameragrid':'row hidefiles'}>\n                <div className=\"col snapshotsgrid\">\n                    Fotos\n                    <div className=\"row\">\n                        {this.state.photos.map((value,index)=><MediaContainer image value={value} cam={this.state.selectedCamera} reloadData={this._loadFiles} key={index} src={value.relative_url}/>)}\n                    </div>\n                    {this.state.photos.length === 0 ?\n                            <div align='center'>\n                             <p className=\"big-letter\">No hay archivos que mostrar</p>\n                             <i className='fa fa-image fa-5x'></i>\n                            </div>\n                            :null}\n                </div>\n                <div className=\"col videosgrid\">\n                    Videos\n                    <Tab menu={{ secondary: true, pointing: true }} panes={[\n                        { menuItem: 'Actuales', render: () => <Tab.Pane attached={false}><div>\n                            <div className=\"row\">\n                                {this.state.videos.map((value,index)=><MediaContainer src={value.relative_url} value={value} cam={this.state.markers[this.state.slideIndex].extraData} reloadData={this._loadFiles} video key={index} />)}\n                            </div>\n                            {this.state.videos.length === 0 ?\n                                <div align='center'>\n                                    <p className=\"big-letter\">No hay archivos que mostrar</p>\n                                    <i className='fa fa-image fa-5x'></i>\n                                </div>\n                            :null}\n                            </div>\n                        </Tab.Pane> },\n\n                        { menuItem: 'Historico', render: () => <Tab.Pane attached={false}>\n                            <div className=\"row\">\n                                {this.state.video_history.map((value,index)=><MediaContainer hideDelete src={value.relative_url} value={value} cam={this.state.markers[this.state.slideIndex].extraData} reloadData={this._loadFiles} video key={index} />)}\n                            </div>\n                            {this.state.video_history.length === 0 ?\n                                <div align='center'>\n                                    <p className=\"big-letter\">No hay archivos que mostrar</p>\n                                    <i className='fa fa-image fa-5x'></i>\n                                </div>\n                            :null}\n                        </Tab.Pane> },\n                    ]} />    \n                </div>\n                <div className=\"col matchesgrid\" align=\"center\">\n                    Historial\n                    {this.state.matches.map((value, index)=><Match key={index} info={value} toggleControls={this._closeControl} />)}\n                </div>\n            </div>            \n        </div> \n    </div>\n    );\n  }\n\n    \n\n    _playPause =() => {          \n        let isplaying = this.state.isplaying\n        console.log(isplaying)\n        isplaying[this.state.slideIndex] = !isplaying[this.state.slideIndex]                \n        console.log(isplaying)\n        this.setState({isplaying:isplaying,isplay:isplaying[this.state.slideIndex]})\n        this.refs['camrefgrid'+this.state.selectedCamera.id]._togglePlayPause()\n    }\n\n\n    handlePageClick = data => {\n        console.log(data)\n        this.setState({start:data.selected*this.state.limit})\n      };\n\n    _loadFiles = (cam) =>{\n        if (cam) {\n            Axios.get(constants.base_url + ':' + constants.apiPort + '/cams/' + cam.id + '/data')\n            .then(response => {\n                const data = response.data\n                console.log(data)\n                this.setState({videos:data.data.videos,photos:data.data.photos,video_history:data.data.videos_history})\n            })\n        } else {\n            if (this.state.selectedCamera!== undefined) {\n                Axios.get(constants.base_url + ':' + constants.apiPort + '/cams/' + this.state.selectedCamera.id + '/data')\n                .then(response => {\n                    const data = response.data\n                    console.log(data)\n                    this.setState({videos:data.data.videos,photos:data.data.photos})\n                })\n            }\n        }        \n    }\n\n\n    _openCameraInfo = (marker) => {   \n        if (marker) {\n            let index = this.state.markers.indexOf(marker)            \n            let recording = false       \n            if(this.props.recordingCams.indexOf(marker.extraData)>-1){\n                recording = true\n            }\n            if(this.state.isplaying.length === 0){\n                let isp = {}\n                this.state.markers.map((value,index)=>{\n                    isp[index] = true\n                    return true;\n                })\n                this.setState({isplaying:isp})\n            }\n            this.setState({selectedCamera: marker.extraData, autoplay:false, slideIndex: index, isRecording: recording,isplay:this.state.isplaying[this.state.slideIndex]===undefined?true:this.state.isplaying[this.state.slideIndex]})\n            this._loadFiles(marker.extraData)\n        } else {\n            this.setState({selectedCamera: {}, autoplay:true, videos:[],photos:[], video_history:[]})\n        }             \n        \n    }\n\n    componentDidMount(){       \n        let markersForLoop = []\n        this.props.places.map((value)=>{\n            markersForLoop.push({\n                title:value.name,\n                extraData:value\n            })\n            return true\n        })\n        let cameras = []\n          for(let item in responseJson.items){\n            let suspect = responseJson.items[item]            \n            //if(suspect.person_classification !== \"Victim\"){\n              suspect.description = suspect.description.replace(/<p>/g,'').replace(/<\\/p>/g,'')                            \n              cameras.push(suspect)\n            //}\n          }               \n        const pageCount = Math.ceil(cameras.length /this.state.limit)        \n        this.setState({markers:markersForLoop, matches:cameras,pageCount:pageCount})\n    }\n\n    componentWillUnmount(){\n\n    }\n\n    static getDerivedStateFromProps(props, state){\n        let markersForLoop = []\n        props.places.map((value,index)=>{\n            markersForLoop.push({\n                title:value.name,\n                extraData:value\n            })            \n            return true\n        })\n        let aux = state\n        aux.markers= markersForLoop\n        return aux        \n    }\n}\n\nexport default GridCameraDisplay;","import React, { Component } from 'react';\nimport { ToggleButton, ToggleButtonGroup, Modal} from 'react-bootstrap'\nimport { Icon, TextArea, Form, Label, Button, Radio } from 'semantic-ui-react'\nimport '../../assets/styles/util.css';\nimport '../../assets/styles/main.css';\nimport '../../assets/fonts/iconic/css/material-design-iconic-font.min.css'\nimport './style.css'\nimport LoopCamerasDisplay from '../../components/LoopCamerasDisplay';\nimport GridCameraDisplay from '../../components/GridCameraDisplay';\nimport CameraStream from '../../components/CameraStream';\nimport constants from '../../constants/constants'\nimport { JellyfishSpinner } from \"react-spinners-kit\";\nimport Axios from 'axios';\nimport moment from 'moment'\nimport JSZipUtils from 'jszip-utils'\nimport JSZip from 'jszip'\nimport saveAs from 'file-saver'\nimport Chips from 'react-chips'\nclass Analysis extends Component {\n\n    state = {\n        places : [\n           \n        ],\n        actualCamera:{\n            title:'',\n            extraData:{}\n        },\n        displayTipe:1,\n        cameraID:null,\n        webSocket:constants.webSocket,\n        loading:true,\n        error:null,\n        recordingCams:[],\n        recordingProcess:[],  \n        loadingRcord:false,\n        isRecording:false,\n        interval:null    ,\n        loadingSnap:false ,\n        loadingFiles: false ,\n        modal: false,\n        recordMessage:'', \n        cameraProblem:{},\n        problemDescription:'',\n        typeReport:1,\n        phones:[],\n        mails:[]\n    }\n  \n  render() {\n    return (\n        <div >\n            {this.state.displayTipe!==3&&!this.state.loading?<div className=\"toggleViewButton row\">            \n                <ToggleButtonGroup className='col-12' type=\"radio\" name=\"options\" defaultValue={2} onChange={this._changeDisplay} value={this.state.displayTipe}>\n                    <ToggleButton value={1} variant='outline-danger' ><Icon name=\"grid layout\"/></ToggleButton>\n                    <ToggleButton value={2} variant='outline-danger' ><Icon name=\"clone\"/></ToggleButton>\n                    {this.state.cameraID?<ToggleButton value={3} variant='outline-danger' ><Icon name=\"square\"/></ToggleButton>:null}\n                </ToggleButtonGroup>\n            </div> :null}    \n            <div style={{position:'absolute',top:'30%', background:'transparent', width:'100%'}} align='center'>\n         <JellyfishSpinner\n                size={250}\n                color=\"#686769\"\n                loading={this.state.loading}                \n            />\n         </div>       \n            {\n                this._showDisplay()\n            }\n            <Modal size=\"lg\" show={this.state.modalProblem} onHide={()=>this.setState({modalProblem:false, cameraProblem:{},problemDescription:'',phones:[],mails:[]})}>\n                            <Modal.Header closeButton>                      \n                                Reportar problema en camara {this.state.cameraProblem.num_cam}\n                            </Modal.Header>\n                            <Modal.Body>\n                                <Form>\n                                    <Form.Field>\n\n                                        <Form.Field>\n                                            <Radio\n                                                label='Reportar emergencia'\n                                                name='typeReport'\n                                                value={1}\n                                                checked={this.state.typeReport === 1} \n                                                onChange={this.handleChange}\n                                            />\n                                        </Form.Field>\n                                        <Form.Field>\n                                            <Radio\n                                                label='Mantenimiento de camara'\n                                                name='typeReport'\n                                                value={2}\n                                                checked={this.state.typeReport === 2}\n                                                onChange={this.handleChange}\n                                            />\n                                        </Form.Field>                                  \n                                    </Form.Field>\n                                    {this.state.typeReport === 2?null:<Form.Field>\n                                        <Label>\n                                            Se notificara a los numeros de emergencia registrados. Si se desea agregar un telefono extra ingreselo aqui indicando la lada del mismo(+525512345678).                                \n                                        </Label>\n                                        <Chips\n                                            value={this.state.phones}\n                                            onChange={this.onChange}\n                                            fromSuggestionsOnly={false}   \n                                            createChipKeys={[' ',13,32]}                                 \n                                        />\n                                    </Form.Field>}\n                                    {this.state.typeReport === 2?null:<Form.Field>\n                                        <Label>\n                                            Se notificara a los emails de emergencia registrados. Si se desea agregar un email extra ingreselo aqui.                                \n                                        </Label>\n                                        <Chips\n                                            value={this.state.mails}\n                                            onChange={this.onChangeMail}\n                                            fromSuggestionsOnly={false}   \n                                            createChipKeys={[' ',13,32]}                                 \n                                        />\n                                    </Form.Field>}\n                                    <Form.Field>\n                                        {this.state.typeReport === 2?<Label>\n                                            Se lo mas claro posible, indique si ha realizado \n                                            alguna accion para intentar resolver el problema.\n                                        </Label>:<Label>\n                                           Indique la emergencia que se presento en la camara.\n                                        </Label>}\n                                        <TextArea \n                                            value={this.state.problemDescription} \n                                            onChange={this.handleChange} \n                                            rows={10} \n                                            name = 'problemDescription'\n                                            placeholder='Redacte aqui su problema' \n                                        />                                    \n                                    </Form.Field>\n                                </Form>\n                                <Button className='pull-right' primary onClick={this._sendReport}>Enviar</Button>\n                            </Modal.Body>\n                        </Modal>\n\n                        <Modal size=\"lg\" show={this.state.modal} onHide={()=>this.setState({modal:false})}>\n                            <Modal.Header closeButton>                      \n                                Grabacion terminada\n                            </Modal.Header>\n                            <Modal.Body>\n                                {this.state.recordMessage}\n                            </Modal.Body>\n                        </Modal>\n        </div>\n    );\n  }\n\n  onChange = chips => {\n    this.setState({ phones:chips });\n  }\n  onChangeMail = chips => {\n    this.setState({ mails:chips });\n  }\n\n  handleChange = (e, { name, value }) => this.setState({ [name]: value })\n\n  _sendReport = () => {\n      console.log(this.state.cameraProblem)\n      this.setState({modalProblem:false})\n      console.log(this.state.phones.join())\n      console.log(this.state.mails.join())\n      Axios.post(constants.base_url + ':' + constants.apiPort + '/tickets',{\n        \"camera_id\": this.state.cameraProblem.id,\n        \"problem\": this.state.problemDescription,\n        \"phones\":this.state.phones.join(),\n        \"mails\":this.state.mails.join(),\n        \"type_report\":this.state.typeReport,\n        \"user_id\": 1\n      })\n          .then(response => {              \n              const data = response.data              \n              this.setState({cameraProblem:{},problemDescription:''})\n              if (data.success) {\n                alert('Ticket creado correctamente')\n              } else {\n                alert('Error al crear ticket')\n                console.log(data.error)\n              }\n          }) \n  }\n  _snapShot = (camera) => {\n    this.setState({loadingSnap:true})\n\n      Axios.post(constants.base_url + ':' + constants.apiPort + '/control-cams/screenshot/' + camera.id)\n          .then(response => {\n              this.setState({loadingSnap:false})\n              const data = response.data\n              console.log(data)\n              if (data.success) {\n                this.refs.myChild._loadFiles()\n              }\n          }) \n}\n\n  _recordignToggle = (selectedCamera) => {\n    if(this.state.recordingCams.indexOf(selectedCamera)>-1){\n        let process_id = 0\n        this.state.recordingProcess.map(value=>{\n            if(value.cam_id === selectedCamera.id){\n                process_id = value.process_id\n            }\n            return true \n        })\n        this.setState({loadingRcord:true})\n        Axios.put(constants.base_url + ':' + constants.apiPort + '/control-cams/stop-record/' + selectedCamera.id,\n            {\n                record_proccess_id:process_id \n            })\n            .then((r) => { \n                const response = r.data\n                if (response.success === true) {\n                    \n                    let stateRecordingProcess = this.state.recordingProcess\n                    let stateRecordingCams = this.state.recordingCams                    \n                    stateRecordingCams = stateRecordingCams.filter(el => el !== selectedCamera) \n                    stateRecordingProcess = stateRecordingProcess.filter(el => el.cam_id !== selectedCamera.id)                     \n                    this.setState({recordingCams:stateRecordingCams, recordingProcess: stateRecordingProcess, isRecording: false,loadingRcord:false,modal:true,recordMessage:response.msg})                        \n                    this.refs.myChild._loadFiles()\n                } else {\n                    let stateRecordingProcess = this.state.recordingProcess\n                    let stateRecordingCams = this.state.recordingCams                    \n                    stateRecordingCams = stateRecordingCams.filter(el => el !== selectedCamera) \n                    stateRecordingProcess = stateRecordingProcess.filter(el => el.cam_id !== selectedCamera.id)                     \n                    this.setState({recordingCams:stateRecordingCams, recordingProcess: stateRecordingProcess, isRecording: false,loadingRcord:false,modal:true,recordMessage:response.msg})                                            \n                }\n            })\n    } else {\n       Axios.post(constants.base_url + ':' + constants.apiPort + '/control-cams/start-record/' + selectedCamera.id,{                                       \n        })\n            .then((r) => { \n                const response = r.data\n                if (response.success === true) {\n                    let recordingProcess = {\n                        cam_id: selectedCamera.id,\n                        process_id: response.id_record_proccess,\n                        creation_time: moment()\n                    }\n                    let stateRecordingProcess = this.state.recordingProcess\n                    let stateRecordingCams = this.state.recordingCams\n                    stateRecordingProcess.push(recordingProcess)\n                    stateRecordingCams.push(selectedCamera)\n                    this.setState({recordingCams:stateRecordingCams, recordingProcess: stateRecordingProcess, isRecording: true})\n                    if (this.state.interval === null) {\n                        let interval = setInterval(this._checkLiveTimeRecording,5000)\n                        this.setState({interval: interval})\n                    }\n                }\n            })\n    }\n}\n\n    _checkLiveTimeRecording = () =>{\n        if (this.state.recordingProcess.length > 0) {\n            let now = moment()\n            this.state.recordingProcess.map(value=>{\n                if (now.diff(value.creation_time,'minutes')>10) {\n                    Axios.put(constants.base_url + ':' + constants.apiPort + '/control-cams/stop-record/' + value.cam_id,\n                    {\n                        record_proccess_id:value.process_id \n                    }).then(response=>{\n                        console.log('response camid'+value.cam_id,response.data)\n                        let stateRecordingProcess = this.state.recordingProcess                        \n                        let stateRecordingCams = this.state.recordingCams                    \n                        stateRecordingCams = stateRecordingCams.filter(el => el.id !== value.cam_id) \n                        stateRecordingProcess = stateRecordingProcess.filter(el => el.cam_id !== value.cam_id)                     \n                        this.setState({recordingCams:stateRecordingCams, recordingProcess: stateRecordingProcess, isRecording: false,loadingRcord:false})   \n                        this.refs.myChild._loadFiles()                     \n                    })                    \n                }\n                return value\n            })\n        } else {\n            clearInterval(this.interval)\n            this.setState({interval: null})\n        }\n    }\n\n\n    _makeReport = (camera) => {\n        console.log(camera)\n        this.setState({modalProblem:true, cameraProblem:camera})\n    }\n  _showDisplay = () =>{\n    switch(this.state.displayTipe){\n        case 1:\n            return (<GridCameraDisplay \n                        ref='myChild'\n                        error={this.state.error} \n                        loading={this.state.loading} \n                        places = {this.state.places} \n                        toggleControlsBottom = {this._toggleControlsBottom} \n                        recordignToggle={this._recordignToggle} \n                        loadingRcord={this.state.loadingRcord} \n                        isRecording={this.state.isRecording}\n                        recordingCams={this.state.recordingCams}\n                        recordingProcess={this.state.recordingProcess}\n                        loadingSnap={this.state.loadingSnap}\n                        downloadFiles={this._downloadFiles}\n                        loadingFiles={this.state.loadingFiles}\n                        makeReport={this._makeReport}\n                        snapShot={this._snapShot}/>)\n        case 2:\n            return (<LoopCamerasDisplay \n                        ref='myChild'\n                        error={this.state.error} \n                        loading={this.state.loading} \n                        places = {this.state.places} \n                        toggleControlsBottom = {this._toggleControlsBottom} \n                        recordignToggle={this._recordignToggle} \n                        loadingRcord={this.state.loadingRcord} \n                        isRecording={this.state.isRecording}\n                        recordingCams={this.state.recordingCams}\n                        recordingProcess={this.state.recordingProcess}\n                        loadingSnap={this.state.loadingSnap}\n                        downloadFiles={this._downloadFiles}\n                        loadingFiles={this.state.loadingFiles}\n                        makeReport={this._makeReport}\n                        snapShot={this._snapShot}/>)\n        case 3:\n            return (<div className=\"camUniqueHolder\"><CameraStream marker={this.state.actualCamera} showButtons height={.45} hideFileButton showFilesBelow /></div>)\n        default:\n           return null\n    }\n  }\n\n\n    urlToPromise = (url) => {\n        return new Promise(function(resolve, reject) \n        {\n            JSZipUtils.getBinaryContent(url, function (err, data) \n            {\n                if(err) \n                {\n                    reject(err);\n                } else {\n                    resolve(data);\n                }\n            });\n        });\n    }\n\n    _downloadFiles = (camera,{videos,images}) => {\n        this.setState({loadingFiles:true})        \n        var zip = new JSZip();\n        var imgs = zip.folder('images')\n        if(images.length !== 0 && videos.length !== 0){\n            images.forEach((url)=>{\n                var filename = url.name;\n                imgs.file(filename, this.urlToPromise(constants.base_url + ':' + constants.apiPort + '/' + url.relative_url ), {binary:true});\n            });\n            var vds = zip.folder('videos')\n            videos.forEach((url)=>{\n                var filename = url.name;\n                vds.file(filename, this.urlToPromise(constants.base_url + ':' + constants.apiPort + '/' + url.relative_url ), {binary:true});\n            });\n            zip.generateAsync({type:\"blob\"}).then((content) => {\n                // see FileSaver.js\n                this.setState({loadingFiles:false})\n                saveAs(content, \"cam_\"+camera.num_cam+\".zip\");  \n                        \n            });\n        } else {\n            Axios.get(constants.base_url + ':' + constants.apiPort + '/cams/' + camera.id + '/data')\n            .then(response => {\n                const data = response.data\n                console.log(data)\n                images = data.data.photos\n                videos = data.data.videos  \n                if(images.length !== 0 && videos.length !== 0){              \n                    images.forEach((url)=>{\n                        var filename = url.name;\n                        imgs.file(filename, this.urlToPromise(constants.base_url + ':' + constants.apiPort + '/' + url.relative_url ), {binary:true});\n                    });\n                    var vds = zip.folder('videos')\n                    videos.forEach((url)=>{\n                        var filename = url.name;\n                        vds.file(filename, this.urlToPromise(constants.base_url + ':' + constants.apiPort + '/' + url.relative_url ), {binary:true});\n                    });\n                    zip.generateAsync({type:\"blob\"}).then((content) => {\n                        // see FileSaver.js\n                        this.setState({loadingFiles:false})\n                        saveAs(content, \"cam_\"+camera.num_cam+\".zip\");  \n                                \n                    });\n                } else {\n\n                }\n\n            })    \n        }\n    } \n  \n    _toggleControlsBottom = (marker) => {        \n        this.props.toggleControls(marker)\n    }\n\n  _changeDisplay = (value) => {\n      this.setState({displayTipe:value})      \n  }\n\n\n            \n\n    componentDidMount(){\n\n        fetch(constants.base_url+':'+constants.apiPort+'/register-cams/all-cams')       \n            .then((response) => {\n                return response.json();\n            })\n            .then((camaras) => {\n                let auxCamaras = []\n                let actualCamera = {}\n                let title = ''\n                let idCamera = null\n                camaras.map(value=>{\n                    if (value.active === 1) {\n                        auxCamaras.push({\n                            id:value.id,\n                            num_cam:value.num_cam,\n                            lat:value.google_cordenate.split(',')[0], \n                            lng:value.google_cordenate.split(',')[1],                            \n                            webSocket:this.state.webSocket + ':' +constants.webSocketPort+(value.num_cam>=10?'':'0') + value.num_cam,\n                            name: value.street +' '+ value.number + ', ' + value.township+ ', ' + value.town+ ', ' + value.state\n                        })\n                        if(this.props.match.params.id){\n                           if (parseInt(this.props.match.params.id) === value.id) {\n                                title= value.street +' '+ value.number + ', ' + value.township+ ', ' + value.town+ ', ' + value.state\n                                actualCamera = {\n                                    id:value.id,\n                                    num_cam:value.num_cam,\n                                    lat:value.google_cordenate.split(',')[0], \n                                    lng:value.google_cordenate.split(',')[1],                            \n                                    webSocket:this.state.webSocket + ':' +constants.webSocketPort+(value.num_cam>=10?'':'0') + value.num_cam,\n                                    name: value.street +' '+ value.number + ', ' + value.township+ ', ' + value.town+ ', ' + value.state\n                                }\n                                idCamera = value.id\n                           }                                          \n                        }\n                        \n                    }\n                    return true;\n                })        \n                if(idCamera== null){\n                    this.setState({places:auxCamaras,loading: false})\n                } else {\n                    this.setState({laces:auxCamaras,loading: false,cameraID:idCamera,actualCamera:{title:title,extraData:actualCamera}})\n                    this.setState({displayTipe:3})\n                }                \n            }).catch(error=>{\n                this.setState({loading: false,error:error})\n                console.log('eeeeeeeeeeeerrrrrooooooor',error)\n            })\n        \n    }\n\n    componentWillUnmount(){\n        this.state.recordingProcess.map(value=>{\n            Axios.put(constants.base_url + ':' + constants.apiPort + '/control-cams/stop-record/' + value.cam_id,\n            {\n                record_proccess_id:value.process_id \n            })\n            .then((r) => { \n                const response = r.data\n                console.log(response)\n            })\n            return value;\n        })\n    }\n}\n\nexport default Analysis;","import React, { Component } from 'react';\nimport {Navbar, NavDropdown, Button, Nav} from 'react-bootstrap'\nimport { withRouter } from \"react-router-dom\";\nimport '../../assets/styles/util.css';\nimport '../../assets/styles/main.css';\nimport '../../assets/fonts/iconic/css/material-design-iconic-font.min.css'\nimport '../../assets/fonts/font-awesome-4.7.0/css/font-awesome.min.css'\nimport './style.css'\n\nclass Header extends Component {\n    _goAnalitics = () => {\n        if(this.props.isSidemenuShow){\n            this.props.toggleSideMenu()\n        }\n        document.getElementsByClassName('navbar-collapse')[0].classList.remove('show')\n        this.props.history.push('/analisis')\n    }\n\n    _cameraAction = () => {    \n        document.getElementsByClassName('navbar-collapse')[0].classList.remove('show')    \n        if(this.props.location.pathname.includes(\"/analisis\")||this.props.location.pathname.includes(\"/detalles\")){\n            this.props.history.push('/')\n        } else {\n            this.props.toggleSideMenu()\n        }\n\n    }\n\n    _logOut = () => {\n        document.getElementsByClassName('navbar-collapse')[0].classList.remove('show')\n        this.props.history.push('/')\n        this.props.logOut()\n    }\n\n    _cameraSideInfo = () => {\n        this.props.cameraSideInfo()\n    }\n\n  render() {\n    return (\n        <Navbar sticky=\"top\" expand=\"lg\" variant=\"light\" bg=\"mh\">                       \n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n            <Navbar.Collapse className=\"justify-content-end\">\n                <Nav className=\"mr-auto\">\n                    <Navbar.Text >\n                        <Button variant=\"outline-light\" onClick = {this._cameraAction}>\n                            <i className=\"fa fa-video-camera\"></i>\n                            Camaras\n                        </Button>\n                    </Navbar.Text>\n                    <Navbar.Text >                       \n                            <Button variant=\"outline-light\" onClick = {this._goAnalitics}>\n                                <i className=\"fa fa-simplybuilt\"></i>\n                                Analisis\n                            </Button>                                             \n                    </Navbar.Text>\n                </Nav>\n                <Nav>     \n                    <Button variant=\"outline-light\"  onClick={this.props._reloadCams}>\n                        <i className={this.props.loadingRestart?'fa fa-repeat fa-spin':\"fa fa-repeat\"}></i>\n                    </Button>                                                            \n                    <NavDropdown className=\"light\" title={this.props.userInfo.name}>\n                        <NavDropdown.Item onClick={this._logOut}>Cerrar sesion</NavDropdown.Item>\n                    </NavDropdown>\n                    <Button variant=\"outline-light\"  onClick={this._cameraSideInfo}>\n                        <i className=\"fa fa-bell\"></i>\n                    </Button>                                           \n                    \n                </Nav>\n                \n            </Navbar.Collapse>\n        </Navbar>\n    );\n  }\n  componentDidMount(){\n  }\n}\n\nexport default withRouter(Header);","import React, { Component } from 'react';\nimport Select from 'react-select';\nimport CameraStream from '../../components/CameraStream'\n\nimport '../../assets/styles/util.css';\nimport '../../assets/styles/main.css';\nimport '../../assets/fonts/iconic/css/material-design-iconic-font.min.css'\nimport '../../assets/fonts/font-awesome-4.7.0/css/font-awesome.min.css'\nimport './style.css'\nimport constants from '../../constants/constants';\n\nclass SideBar extends Component {   \n    state = {\n        selectedOption: [],\n        places : [\n        ],\n        options:[],\n        webSocket:constants.webSocket\n    }\n\n    componentDidMount(){\n        fetch(constants.base_url+':'+constants.apiPort+'/register-cams/all-cams')\n            .then((response) => {\n                return response.json();\n            })\n            .then((camaras) => {\n                let auxCamaras = []\n                let options = []\n                camaras.map(value=>{\n                    if (value.active === 1) {\n                        auxCamaras.push({\n                            id:value.id,\n                            num_cam:value.num_cam,\n                            lat:parseFloat(value.google_cordenate.split(',')[0]), \n                            lng:parseFloat(value.google_cordenate.split(',')[1]),                            \n                            webSocket:this.state.webSocket + ':' +constants.webSocketPort+(value.num_cam>=10?'':'0') + value.num_cam,\n                            name: value.street +' '+ value.number + ', ' + value.township+ ', ' + value.town+ ', ' + value.state\n                        })\n                    }\n                    return true;\n                })                                \n                auxCamaras.map((value)=>{\n                    options.push({\n                        value: value.id,\n                        label: 'Camara '+value.num_cam,\n                    })\n                    return true\n                })\n                this.setState({places:auxCamaras,options:options})\n            });\n        \n    }\n\n    handleChange = (selectedOption) => {\n        var cameras= []\n        selectedOption.map((value)=>{\n            this.state.places.map((place)=>{\n                if (place.id === value.value) {\n                    cameras.push({\n                        title:place.name,\n                        extraData:place\n                    })\n                }\n                return true\n            })\n            return true\n        })        \n        this.setState({ selectedOption:cameras });\n    }\n\n    render() {\n        return (\n            <div className={this.props.active?\"sidenav active-side\":\"sidenav\"} align=\"center\">\n                <button className=\"closebtn\"  onClick={this.props.toggleSideMenu}>&times;</button>\n                <label> Buscar cmara</label>\n                <Select   \n                    isMulti                              \n                    onChange={this.handleChange}\n                    options={this.state.options}\n                />\n                <div id=\"selection\">\n                {\n                    this.state.selectedOption.map( value => <CameraStream key={value.extraData.id} marker={value} height={.6} showButtons/>) \n                }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default SideBar;","import React, { Component } from 'react';\nimport { Header } from 'semantic-ui-react'\nimport Match from '../Match';\nimport responseJson from '../../assets/json/suspects.json'\n\nimport 'semantic-ui-css/semantic.min.css'\nimport '../../assets/styles/util.css';\nimport '../../assets/styles/main.css';\nimport '../../assets/fonts/iconic/css/material-design-iconic-font.min.css'\nimport '../../assets/fonts/font-awesome-4.7.0/css/font-awesome.min.css'\n\n\nclass CameraInfoSide extends Component {   \n\n    state = { \n        activeIndex: 0,\n        places : [\n            {\n                name:'Carrilo Puerto , 413 ,Tacuba Miguel Hidalgo CDMX', \n                lat:19.452546, \n                lng:-99.187447,\n                id:1,\n                webSocket:'ws://18.222.106.238:1001',\n                match:[]\n            },\n            {\n                name:'Rio Napo, 46, Argentina Poniente Miguel Hidalgo CDMX', \n                lat:19.459430, \n                lng:-99.208588,\n                id:2,\n                webSocket:'ws://18.222.106.238:1002',\n                match:[]\n            },\n            {\n                name:'Ro Juru ,45, Argenttina Poniente Miguel Hidalgo CDMX', \n                lat:19.4600672, \n                lng:-99.2117091,\n                id:3,\n                webSocket:'ws://18.222.106.238:1003',\n                match:[]\n            },\n\n            {\n                name:'Mexico ,Tacuba, 1 ,Argenttina Poniente / Nueva Argentina Miguel Hidalgo CDMX', \n                lat:19.456858, \n                lng:-99.205938,\n                id:4,\n                webSocket:'ws://18.222.106.238:1004',\n                match:[]\n            },\n            {\n                name:'Calzada Santa Barbara Naucalapn ,210, Argenttina Poniente Miguel Hidalgo CDMX', \n                lat:19.4601350, \n                lng:-99.2082958,\n                id:5,\n                webSocket:'ws://18.222.106.238:1005',\n                match:[]\n            },\n            {\n                name:'Ro Tlacotalpan ,89 ,Argenttina Poniente Miguel Hidalgo CDMX', \n                lat:19.457746, \n                lng:-99.208690,\n                id:6,\n                webSocket:'ws://18.222.106.238:1006',\n                match:[]\n            },\n\n            {\n                name:'Ro Juru  ,13, Argenttina Poniente Miguel Hidalgo CDMX', \n                lat:19.459800, \n                lng:-99.208318,\n                id:7,\n                webSocket:'ws://18.222.106.238:1007',\n                match:[]\n            },\n            {\n                name:'Rio Napo, 42 ,Argenttina Poniente Miguel Hidalgo CDMX', \n                lat:19.459396, \n                lng:-99.208482,\n                id:8,\n                webSocket:'ws://18.222.106.238:1008',\n                match:[]\n            }\n        ],\n        matchs:[]\n    }\n\n    handleClick = (e, titleProps) => {\n        const { index } = titleProps\n        const { activeIndex } = this.state\n        const newIndex = activeIndex === index ? -1 : index\n    \n        this.setState({ activeIndex: newIndex })\n    }\n\n    render() {\n        return (\n            <div ref='camInfoSideMenu' className=\"sidenav-right\">\n                <button className=\"closebtn\"  onClick={this._toggle}>&times;</button>                \n                <div align = 'center'> \n                    <Header>Matches</Header>\n                </div>\n                <div align='center'>\n                    {this.state.matchs.map((value, index)=><Match key={index} info={value}/>)}\n                </div>\n            </div>\n        );\n    }\n\n    _toggle = () => {\n        this.refs.camInfoSideMenu.classList.remove('active-side')        \n        setTimeout(this.props.toggleSideMenu,1000)\n    }\n\n    componentDidMount() {\n        const element  = this.refs.camInfoSideMenu\n        this.refs.camInfoSideMenu.classList.add('active-side') \n        const navHeight = document.getElementsByTagName('nav')[0].scrollHeight\n        //const toolbar = document.getElementsByClassName('btn-toolbar')[0].scrollHeight\n        const documentHeight = window.innerHeight\n        element.style.height  = documentHeight - navHeight + \"px\"   \n        element.style.maxHeight  = documentHeight - navHeight + \"px\"      \n        element.style.marginTop  =   navHeight  + \"px\"   \n        this.setState({activeIndex:this.props.cameraID}) \n        let cameras = []\n          for(let item in responseJson.items){\n            let suspect = responseJson.items[item]            \n            //if(suspect.person_classification !== \"Victim\"){\n              suspect.description = suspect.description.replace(/<p>/g,'').replace(/<\\/p>/g,'')                            \n              cameras.push(suspect)\n            //}\n          }       \n        this.setState({matchs:cameras})          \n    }\n}\n\nexport default CameraInfoSide;","import React, { Component } from 'react';\nimport { Header, Button, Image, Icon } from 'semantic-ui-react'\nimport Match from '../Match'\nimport responseJson from '../../assets/json/suspects.json'\nimport './style.css'\nclass CameraControls extends Component {\n    \n    state = {\n        markers : [],\n        photos:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],\n        videos:[1,2,3,4,5,6,7,8],\n        active:false,\n        isSlide:false\n    }\n\n  render() {\n    return (\n    <div className=\"bottomMenu\">   \n        {this.props.active?<div className=\"row p10 headerBottomMenu m-b-4\">\n            <div className=\"col-3\">\n                <Header size=\"large\">Camara {this.props.camera.id}</Header>\n                 {this.props.camera.name}\n            </div>\n            <div className=\"col-7\">  \n            <div>\n                    <Button>\n                        <Icon name='record' />\n                        Grabar\n                    </Button>\n                    <Button>\n                        <Icon name='camera' />\n                        Tomar foto\n                    </Button>\n                    <Button>\n                        <Icon name='pause' />\n                        Pausa\n                    </Button>\n                    <Button>\n                        <Icon name='stop' />\n                        Parar\n                    </Button>\n\n                </div>              \n            </div>\n            <div className=\"col\" align=\"right\">\n                {!this.state.isSlide?<Button basic onClick={this._closeControl}>&times;</Button>:null}\n            </div>\n        </div>  : null  } \n        <div className=\"row fullHeight p10\">\n            <div className=\"col snapshots\">\n                Fotos\n                <div className=\"row\">\n                    {this.state.photos.map(value=><div key={value} className=\"col-6 p10\">\n                        <Image src=\"https://via.placeholder.com/150\"/>\n                    </div>)}\n                </div>\n            </div>\n            <div className=\"col videos\">\n                Videos\n                <div className=\"row\">\n                    {this.state.videos.map(value=><div key={value} className=\"col-6 p10\">\n                        <Image src=\"https://via.placeholder.com/150\"/>\n                    </div>)}\n                </div>\n            </div>\n            <div className=\"col\" align=\"center\">\n                Historial\n                {this.state.markers.map((value, index)=><Match key={index} info={value} toggleControls={this._closeControl} />)}\n            </div>\n        </div>       \n    </div>\n    ); \n}\n\n    _closeControl = () =>{        \n        const bottomMenu = document.getElementsByClassName('bottomMenu')[0]\n        bottomMenu.classList.remove('active-bottom')\n        document.getElementsByClassName('fullcontainer')[0].style.overflow = 'auto'\n        document.getElementsByClassName('fullcontainer')[0].style.pointerEvents = 'auto'\n        document.getElementsByClassName('fullcontainer')[0].style.opacity = 1 \n        document.getElementsByClassName('gridCameraContainer')[0].style.overflowY = 'auto'  \n        document.getElementsByClassName('gridCameraContainer')[0].style.pointerEvents = 'auto'             \n        if(this.state.isSlide){\n            const carouselContainer = document.getElementsByClassName('carouselContainer')[0]             \n            const fullcontainer = document.getElementsByClassName('fullcontainer')[0] \n            fullcontainer.style.height = '100%'            \n            carouselContainer.style.height = '100%'   \n            bottomMenu.style.position = 'fixed'\n            bottomMenu.style.height = 'auto'         \n            \n        } \n        setTimeout(this.closeDefinitely,500)     \n    }   \n\n    closeDefinitely = () => {\n        console.log('called')\n        this.props.toggleControls()\n    }\n    componentDidMount(){               \n        console.log(this.props)        \n        /*var buttonBar = document.getElementsByClassName('btn-toolbar')[0].scrollHeight\n        const navHeight = document.getElementsByTagName('nav')[0].scrollHeight\n        if((document.getElementsByClassName('btn-toolbar')[0].getBoundingClientRect().y-navHeight) < 0        ){\n            buttonBar = 0\n        }\n        const documentHeight = window.innerHeight                                    \n        //bottomMenu.style.height = documentHeight - navHeight - buttonBar + 'px'\n        //bottomMenu.style.marginTop =  navHeight + buttonBar + 'px'\n        */\n       const bottomMenu = document.getElementsByClassName('bottomMenu')[0] \n       const carouselContainer = document.getElementsByClassName('carouselContainer')[0] \n        if(carouselContainer){\n            this.setState({isSlide:true})\n            const fullcontainer = document.getElementsByClassName('fullcontainer')[0] \n            fullcontainer.style.height = 'auto'            \n            carouselContainer.style.height = 'auto'  \n            bottomMenu.style.position = 'relative'  \n            bottomMenu.style.height = 'auto'            \n        } else {\n            document.getElementsByClassName('fullcontainer')[0].style.overflowY = 'hidden'  \n            document.getElementsByClassName('fullcontainer')[0].style.pointerEvents = 'none'  \n            document.getElementsByClassName('fullcontainer')[0].style.opacity = 0.5\n            document.getElementsByClassName('gridCameraContainer')[0].style.overflowY = 'hidden'  \n            document.getElementsByClassName('gridCameraContainer')[0].style.pointerEvents = 'none'              \n            bottomMenu.style.position = 'fixed'            \n            bottomMenu.scrollTop = 0\n            bottomMenu.classList.add('active-bottom')      \n              \n        }  \n        let cameras = []\n          for(let item in responseJson.items){\n            let suspect = responseJson.items[item]            \n            //if(suspect.person_classification !== \"Victim\"){\n              suspect.description = suspect.description.replace(/<p>/g,'').replace(/<\\/p>/g,'')                            \n              cameras.push(suspect)\n            //}\n          }       \n        this.setState({markers:cameras})                                     \n    }\n\n}\n\nexport default CameraControls;","import React, { Component } from 'react';\nimport responseJson from '../../assets/json/suspects.json'\nimport { Image, Header, Button, Radio } from 'semantic-ui-react';\n\nimport './style.css'\nimport MapContainer from '../../components/MapContainer/index.js';\nimport { Modal, Navbar } from 'react-bootstrap';\nconst mapOptions= {\n    center: {lat: 19.459430, lng: -99.208588},\n    zoom: 15,\n    mapTypeId: 'roadmap',\n    zoomControl: false,\n    mapTypeControl: false,\n    streetViewControl: false,\n    fullscreenControl: false,\n    openConfirm: false,\n    typeConfirm:false,\n    openSelection:false,\n    checked:''\n}\n\n class Details extends Component {\n    state = {\n        places : [\n            {\n                name:'Carrilo Puerto , 413 ,Tacuba Miguel Hidalgo CDMX', \n                lat:19.459430, \n                lng:-99.208588,\n                id:1,\n                webSocket:'ws://18.222.106.238:1001'\n            }\n        ],    \n        images: [{},{}],\n        idCamera:Math.floor(Math.random() * 10) + 1,\n    }\n\n  render() {\n    return (\n        <div  className=\"app-container\" >   \n            <Navbar sticky=\"top\" expand=\"lg\" variant=\"light\" bg=\"mh\">                       \n                <Navbar.Text >\n                   Camara {this.state.idCamera}\n                </Navbar.Text>                \n            </Navbar>     \n            <div  className=\"mapContainerForDetail\" >    \n                <MapContainer                 \n                    options={mapOptions}\n                    places={this.state.places} \n                    onMapLoad={this._onMapLoad} />            \n            </div>\n            <div  className=\"row\">\n                &nbsp;\n            </div>\t\n            <div  className=\"card\">\n                <div  className=\"row imageContainer\">\n                    <div  className=\"col-1\"></div>\n                    <div  className=\"col-4 imageContainer\">\n                        <div  className=\"row\">\n                            <div  className=\"col imageContainer\" align='center'>\n                                <h4>Imagen de camara</h4>\n                                <div  className=\"card-image\">\n                                    <Image wrapped size=\"small\" src={this.state.images[0].original}/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div  className=\"col-2 center imageContainer\" >\n                        <div  className=\"row\" >\n                            <div  className=\"col\" align='center'>  \n                                <Header size='huge' color=\"brown\">95%</Header>\n                            </div>\n                        </div>\n                        <div  className=\"row\" >\n                            <div  className=\"col\" align='center'>  \n                                de poincidencia\n                            </div>\n                        </div>\n                    </div>\n                    <div  className=\"col-4 imageContainer\">\n                        <div  className=\"row\">\n                            <div  className=\"col imageContainer\" align='center'>\n                                <h4>Imagen registrada</h4>\n                                <div  className=\"card-image\">\n                                    <Image wrapped size=\"small\" src={this.state.images[1]?this.state.images[1].original:this.state.images[0].original}/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div  className=\"col-1\">\n                    </div>\n                </div>\n            </div>\n            <div  className=\"row\">\n                &nbsp;\n            </div>\n            <div  className=\"card\">\n                <div  className=\"row\"  >\n                    \n                    <div  className=\"col-6\">\n                        <h4>Datos</h4>\n                        <div  className=\"row\"   >\n                            <div  className=\"col-4\">\n                                <b>Nombre:</b>\n                            </div>\n                            <div  className=\"col-8\">\n                                 {this.state.title}\n                            </div>\n                            <div  className=\"col-4\">\n                                <b>Aliases:</b>\n                            </div>\n                            <div  className=\"col-8\">\n                                {this.state.aliases}\n                            </div>\n                            <div  className=\"col-4\">\n                                <b>Detalles:</b>\n                            </div>\n                            <div  className=\"col-8\">\n                                {this.state.details}\n                            </div>\n                            <div  className=\"col-4\">\n                                <b>Lugar de nacimiento:</b>\n                            </div>\n                            <div  className=\"col-8\">\n                                PASADENA, CALIFORNIA, United States\n                            </div>\n                            <div  className=\"col-4\">\n                                <b>Fecha de nacimiento:</b>\n                            </div>\n                            <div  className=\"col-8\">\n                                March 28, 1979\n                            </div>\n                            <div  className=\"col-4\">\n                                <b>Nacionalidad:</b>\n                            </div>\n                            <div  className=\"col-8\">\n                                American\n                            </div>\n                        </div>\n                    </div>\n                    <div  className=\"col-6\">\n                        <h4>Descripcin fisica</h4>\n                        <div  className=\"row\"  >\n                            <div  className=\"col-4\">\n                                <b>Altura:</b>\n                            </div>\n                            <div  className=\"col-8\">\n                                1.85 metros\n                            </div>\n                            <div  className=\"col-4\">\n                                <b>Peso:</b>\n                            </div>\n                            <div  className=\"col-8\">\n                                82 kilogramos\n                            </div>\n                            <div  className=\"col-4\">\n                                <b>Color de pelo:</b>\n                            </div>\n                            <div  className=\"col-8\">\n                                Negro\n                            </div>\n                            <div  className=\"col-4\">\n                                <b>Color de ojos:</b>\n                            </div>\n                            <div  className=\"col-8\">\n                                Cafe\n                            </div>\n                            <div  className=\"col-4\">\n                                <b>Marcas y cicatrices:</b>\n                            </div>\n                            <div  className=\"col-8\">\n                                John Doe has a cleft chin and a surgical scar on this lower back.\n                            </div>\n                            \n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div  className=\"row\">\n                &nbsp;\n            </div>\n            <div  className=\"row\">\n                <div  className=\"col center\" align='center'>\n                    <Button positive onClick={()=>this.setState({openConfirm:true})}>\n                    Confirmar evento\n                    </Button>\t\t    \n                </div>\n                \n            </div>\n            <div  className=\"row\">\n                &nbsp;\n            </div>\n            \n            <Modal show={this.state.openConfirm} onHide={()=>this.setState({openConfirm:false})}>\n                <Modal.Header closeButton>\n                    \n                </Modal.Header>\n                <Modal.Body>Confirmar evento?</Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={()=>this.handleClose(false)}>\n                    No\n                    </Button>\n                    <Button variant=\"primary\" onClick={()=>this.handleClose(true)}>\n                    Si\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n            <Modal show={this.state.openSelection} onHide={()=>this.setState({openSelection:false})}>\n                <Modal.Header closeButton>\n                    \n                </Modal.Header>\n                <Modal.Body>\n                {this.state.typeConfirm?\n                <div>\n                    <Radio\n                        label=\"Sospechoso se encuentra en libertad condicional\"\n                        onChange={()=>{this.setState({checked:'conditional'})}}                        \n                        checked={this.state.checked==='conditional'}\n                    />\n                    <Radio\n                        label=\"Sospechoso arrestado y puesto a disposicin de las autoridades\"\n                        onChange={()=>{this.setState({checked:'to_authorities'})}}                        \n                        checked={this.state.checked==='to_authorities'}\n                    />\n                    <Radio\n                        label='Arrestad y solicitad refuerzo federal'\n                        onChange={()=>{this.setState({checked:'federal_reinforcement'})}}                        \n                        checked={this.state.checked==='federal_reinforcement'}\n                    />\n                    <Radio\n                        label='Arrestad y solicitad refuerzo estatal'\n                        onChange={()=>{this.setState({checked:'statal_reinforcement'})}}                        \n                        checked={this.state.checked==='statal_reinforcement'}\n                    />\n                    </div>:\n                    <div>\n                    <Radio\n                        label=\"Match similar pero el sospechoso no era el\"\n                        onChange={()=>{this.setState({checked:'similar'})}}                        \n                        checked={this.state.checked==='similar'}\n                    />\n                    <Radio\n                        label=\"Match no era nada similar al sospechoso\"\n                        onChange={()=>{this.setState({checked:'no_similar'})}}                        \n                        checked={this.state.checked==='no_similar'}\n                    />\n                    <Radio\n                        label='Match con una mujer, el sospechoso es hombre'\n                        onChange={()=>{this.setState({checked:'female_on_male'})}}                        \n                        checked={this.state.checked==='female_on_male'}\n                    />\n                    <Radio\n                        label='Match con un hombre, sospechosa es mujer'\n                        onChange={()=>{this.setState({checked:'male_on_female'})}}                        \n                        checked={this.state.checked==='male_on_female'}\n                    />\n                    <Radio\n                        label='Match en objeto y no en persona'\n                        onChange={()=>{this.setState({checked:'object'})}}                        \n                        checked={this.state.checked==='object'}\n                    />\n                </div>}\n\n                </Modal.Body>\n                <Modal.Footer>                    \n                    <Button variant=\"primary\" onClick={this.saveChange}>\n                    Guardar\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    \n    );\n  }\n\n  handleClose = (type) => {\n    this.setState({openSelection:true,openConfirm:false,typeConfirm:type})\n  }\n\n  saveChange = () => {\n    this.setState({openSelection:false})\n    console.log(this.props.history)\n    //this.props.history.push('/analisis')\n    window.close()\n  }\n\n  _onMapLoad = map => {\n        const marker = []\n        this.state.places.map((value,index)=>{\n             marker[index]= new window.google.maps.Marker({\n                position: { lat:value.lat, lng:value.lng },\n                map: map,\n                title: value.name,\n                extraData:value\n            });\n            return true;\n        })\n  }\n\n    componentDidMount(){\n        var data = {}; \n        responseJson.items.map(el=> {\n        if(el.id.toString() === this.props.match.params.id) \n            data = el\n            return true\n        })\n        this.setState(data)\n    }\n\n    changeInfo = (props) => {\n        var data = {}; \n        responseJson.items.map(el=> {\n        if(el.id.toString() === props.match.params.id) \n            data = el\n            return true\n        })\n        this.setState(data)\n    }\n\n    static getDerivedStateFromProps(props, state) {        \n        if (props.match.params.id !== state.id) {\n            return (responseJson.items.filter(el => el.id.toString() === props.match.params.id)[0])\n        }\n        return null;\n    }\n    \n\n}\n\nexport default Details;","import React, { Component } from 'react';\nimport '../../assets/styles/util.css';\nimport '../../assets/styles/main.css';\nimport '../../assets/fonts/iconic/css/material-design-iconic-font.min.css'\nimport CameraStream from '../../components/CameraStream';\nimport constants from '../../constants/constants'\nimport { JellyfishSpinner } from \"react-spinners-kit\";\n\nclass MobileHelp extends Component {\n\n    state = {\n        places : [\n           \n        ],\n        camara: undefined\n    }\n  \n  render() {\n    return (\n        <div>\n          {this.state.camera?<CameraStream marker={this.state.camera}  hideTitle hideText height={.5}/>:<JellyfishSpinner\n                size={250}\n                color=\"#686769\"\n                loading={true}                \n            />} \n        </div>\n    );\n  }\n\n \n\n\n            \n\n    componentDidMount(){\n\n        fetch(constants.base_url+':'+constants.apiPort+'/register-cams/all-cams')       \n            .then((response) => {\n                return response.json();\n            })\n            .then((camaras) => {\n                let actualCamera = {}\n                let title = ''\n                const camera_id = parseInt(this.props.match.params.id)\n                console.log(camera_id)\n                camaras.map(value=>{\n                    if (value.active === 1) {             \n                        console.log(value)\n                        console.log(camera_id === value.id)    \n                        if ( camera_id === value.id) {\n                            title= value.street +' '+ value.number + ', ' + value.township+ ', ' + value.town+ ', ' + value.state\n                            actualCamera = {\n                                id:value.id,\n                                num_cam:value.num_cam,\n                                lat:value.google_cordenate.split(',')[0], \n                                lng:value.google_cordenate.split(',')[1],                            \n                                webSocket:constants.webSocket + ':' +constants.webSocketPort+(value.num_cam>=10?'':'0') + value.num_cam,\n                                name: value.street +' '+ value.number + ', ' + value.township+ ', ' + value.town+ ', ' + value.state\n                            }\n                                                            \n                        }\n                        \n                    }\n                    return true;\n                })      \n                console.log(actualCamera)  \n                this.setState({camera:{title:title,extraData:actualCamera}})              \n            }).catch(error=>{\n                this.setState({loading: false,error:error})\n                console.log('eeeeeeeeeeeerrrrrooooooor',error)\n            })\n        \n    }\n\n}\n\nexport default MobileHelp;","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\n\nimport Login from './pages/Login'\nimport Map from './pages/Map'\nimport Analysis from './pages/Analysis';\nimport NotificationSystem from 'react-notification-system';\n\nimport Header from './components/Header';\nimport SideBar from './components/SideBar';\nimport CameraInfoSide from './components/CameraInfoSide';\nimport CameraControls from './components/CameraControls';\n\nimport './App.css';\nimport Details from './pages/Details';\nimport Axios from 'axios';\nimport constants from './constants/constants';\nimport MobileHelp from './pages/CamaraForMobile';\n\n\nclass App extends Component {\n\n  state = {\n    isAuthenticated: true,\n    sideMenu:false,\n    cameraInfoSide:false,\n    cameraInfo: null,\n    cameraID:null,\n    cameraControl: false,\n    showHeader:true,\n    userInfo:{\n      name:''\n    },\n    loadingRestart: false\n  }\n\n\n  componentDidMount(){\n    if(window.location.pathname.includes('mobile_help')){\n      this.setState({showHeader:false})\n      return true;\n    }\n    this._checkAuth()    \n    if (!window.location.pathname.includes('detalles')&&!window.location.pathname.includes('analisis/')) {      \n\n    }  else {\n      this.setState({showHeader:false})\n    }\n  }\n\n\n  showNot = () => {\n    const notification = this.refs.notificationSystem;\n    if(notification){\n      notification.addNotification({\n        title:'Match',\n        message: 'Nuevo match detectado, Camara 1',\n        level: 'error',\n        action: {\n          label: 'Ver match',\n          callback: ()=> this.seeMatch(1)\n        }\n      });\n    }\n  }\n\n  seeMatch = (id) => {\n    console.log(id)\n    this._cameraSideInfo(id)\n  } \n\n\n  _reloadCams = () => {\n    this.setState({loadingRestart:true})\n    Axios.put(constants.base_url+':'+constants.apiPort+'/control-cams/restart-streaming2/all').then(data=>{\n      this.setState({loadingRestart:false})\n      if (data.data.success) {\n        const event = new Event('restartCamEvent')\n        window.dispatchEvent(event)\n      } else {\n        alert('Error reiniciando las camaras')\n      }\n    })\n  } \n\n\n  _checkAuth(){\n    const isAuth = sessionStorage.getItem('isAuthenticated')    \n    if (isAuth) {\n      const data = JSON.parse(isAuth)\n      this.setState({isAuthenticated:data.logged,userInfo:data.userInfo}) \n      if (!window.location.pathname.includes('detalles')&&!window.location.pathname.includes('analisis/')) {      \n        setTimeout(this.showNot,10000)\n      }  \n    } else {\n      this.setState({isAuthenticated:false}) \n      if(window.location.pathname!=='/'){        \n        window.location.href = window.location.href.replace(window.location.pathname,'')\n      }\n    }\n  }\n\n  _makeAuth = (name = 'Alejandro Chico') => {\n    sessionStorage.setItem('isAuthenticated',JSON.stringify({logged:true,userInfo:{name:name}}))\n    this.setState({isAuthenticated:true,userInfo:{name:name}})\n    if (!window.location.pathname.includes('detalles')&&!window.location.pathname.includes('analisis/')) {      \n      setTimeout(this.showNot,10000)\n    }  \n  }\n\n  _toggleSideMenu = () => {    \n    this.setState({sideMenu: !this.state.sideMenu})\n  }\n\n  _cameraSideInfo = (cameraInfo) => {  \n    console.log(cameraInfo)  \n    console.log(this.state.cameraInfoSide)\n    this.setState({cameraInfoSide: !this.state.cameraInfoSide, cameraID:cameraInfo})\n  }\n\n  _logOut = () => {\n    this.setState({isAuthenticated: false})\n    sessionStorage.removeItem('isAuthenticated')\n  } \n\n  _toggleControls = (camera) =>{\n    if(camera){\n      this.setState({cameraControl:true, cameraInfo:camera})\n    }  else {\n      this.setState({cameraControl:false, cameraInfo:null})\n    }\n      \n  }\n  \n  render() {\n    return (\n    <Router>      \n      <div className=\"fullcontainer\">                \n        {this.state.isAuthenticated&&this.state.showHeader?<Header loadingRestart={this.state.loadingRestart} toggleSideMenu = {this._toggleSideMenu} logOut = {this._logOut} isSidemenuShow={this.state.sideMenu} cameraSideInfo={this._cameraSideInfo} userInfo={this.state.userInfo} _reloadCams={this._reloadCams}/>:null}     \n        <SideBar toggleSideMenu = {this._toggleSideMenu} active={this.state.sideMenu}/>\n        {this.state.cameraInfoSide?<CameraInfoSide toggleSideMenu = {this._cameraSideInfo}  cameraID={this.state.cameraID}/>:null}\n        <Route path=\"/\" exact render={(props) => this.state.isAuthenticated?<Map  />:<Login {...props} makeAuth={this._makeAuth} isAuthenticated={this.state.isAuthenticated}/>} />\n        <Route path=\"/analisis\" exact render={(props) => <Analysis  {...props} toggleSideMenu = {this._cameraSideInfo} toggleControls={this._toggleControls}/>} />\n        <Route path=\"/analisis/:id\" exact render={(props) => <Analysis  {...props} toggleSideMenu = {this._cameraSideInfo} toggleControls={this._toggleControls}/>} />        \n        <Route path=\"/detalles/:id\" exact render={(props) => <Details  {...props} toggleSideMenu = {this._cameraSideInfo} toggleControls={this._toggleControls}/>} />\n        <Route path=\"/mobile_help/:id\" exact render={(props) => <MobileHelp  {...props} toggleSideMenu = {this._cameraSideInfo} toggleControls={this._toggleControls}/>} />        \n      </div>\n      {this.state.cameraControl?<CameraControls camera={this.state.cameraInfo} toggleControls={this._toggleControls} active ={this.state.cameraControl}/>:null}\n      <NotificationSystem ref='notificationSystem' />\n        \n    </Router>  \n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}